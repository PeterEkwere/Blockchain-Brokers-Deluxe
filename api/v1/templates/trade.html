<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/monzanifabio/cryptofont/cryptofont.css">
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
    <title>Verify ID - digitalofx.com</title>
</head>
<style>
    /* `sm` applies to x-small devices (portrait phones, less than 576px)
    @media (max-width: 575.98px) { ... }

    `md` applies to small devices (landscape phones, less than 768px)
    @media (max-width: 767.98px) { ... }

    `lg` applies to medium devices (tablets, less than 992px)
    @media (max-width: 991.98px) { ... }

    `xl` applies to large devices (desktops, less than 1200px)
    @media (max-width: 1199.98px) { ... }

    `xxl` applies to x-large devices (large desktops, less than 1400px)
    @media (max-width: 1399.98px) { ... } */

    body{
        padding: 0;
        margin: 0;
        background-color: #fbfaff !important;
    }

    .main{
        padding-top: 70px;
    }

    .header{
        z-index: 2 !important;
        background-color: #fbfaff !important;
    }

    .logo-box{
        background-color: #fbfaff;
        z-index: 2 !important;
    }

    .logo{
        width: 45px;
    }

    .currency-box {
        display: flex; /* Ensure flexbox is enabled */
        flex-wrap: nowrap; /* Prevent wrapping */
        align-items: center; /* Maintain vertical alignment */
        cursor: pointer;
    }

    .wallet-dropdown{
        position: absolute;
        visibility: hidden;
        height: 0;
        opacity: 0;
        top: 60px;
        transition: 0.3s;
        overflow-y: auto;
        overflow-y: scroll;
        scrollbar-width: thin;
        background-color: #fff;
    }

    .wallet-dropdown.active{
        position: absolute;
        top: 80px;
        width: 350px;
        visibility: visible;
        opacity: 1;
        padding: 0px !important;
        margin: 0px;
        height: 300px;
        vertical-align: middle;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: start;
        box-shadow: 0px 3px 6px #3333333f;
        overflow-y: scroll;
        scrollbar-width: thin;
    }

    .wallet-dropdown::-webkit-scrollbar {
        width: 8px; /* Adjust width as desired */
        background-color: #f5f5f5; /* Set track background color */
    }

    .wallet-dropdown::-webkit-scrollbar-thumb {
        background-color: #ccc; /* Set thumb color */
        border-radius: 6px; /* Add rounded corners */
    }

    .wallet{
        width: 100%;
        border-radius: 0px !important;
        height: 140px !important;
        font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }

    .currency-coin{
        bottom: 5px;
    }

    .currency-name{
        color: #f7931a;
    }

    .coin-name{
        opacity: 0.5 !important;
        font-size: 14px !important;
    }

    .coin-logo{
        opacity: 0.5 !important;
    }

    .wallet-btn{
        border: 1px solid #fff;
        padding: 5px 10px;
        font-size: 14px;
        background: none !important;
        color: #fff;
        position: relative;
        top: 30px;
    }

    .header-p{
        font-family:"Plus Jakarta Sans", sans-serif;
        font-size: 13px !important;
    }


    @media (max-width: 767.98px) { 
        .currency-box{
            display: none !important;
        }

        .logo{
            width: 30px;
            top: 50px;
        }
    }

    /* ================== HEADER RIGHT STYLES================== */


    .total-balance-digits{
        top: 5px;
    }

    .flags-dropdown-btn{
        top: 20px !important;
    }

    .flag-menu{
        top: 100% !important;
        left: -100% !important;
        border-radius: 0px !important;
        box-shadow: 0px 3px 6px #3333331f;
        transition: 0.3s;
    }

    .flag-btn{
        width: 30px !important;
    }

    .profile-box{
        cursor: pointer;
    }

    .profile-icon{
        color: #333;
    }

    .profile-name{
        top: 9px;
        color: #333;
        font-family:"Plus Jakarta Sans", sans-serif;
        font-weight: 500;
    }

    .profile-dropdown {
        visibility: hidden;
        position: absolute;
        top: 40px;
        right: 0;
        width: 192px;
        padding: 5px 10px;
        opacity: 0;
        transition: 0.2s;
        background-color: #fff;
        border-radius: 0px !important;
    }

    .profile-dropdown.active {
        visibility: visible;
        opacity: 1;
        position: absolute;
        border: 1px solid #ccc !important;
        box-shadow: 0px 3px 6px #33333322;
        padding: 5px 10px;
        top: 72px;
    }

    .profile-item{
        margin: 5px 0 !important;
    }

    .nav-sm{
        display: none;
    }

    .inner-dropdown{
        display: none;
        flex-direction: column;
        border-left: 1px solid #000;
        padding-left: 30px;
        margin-left: 0px;
        transition: 0.3s all;
    }

    .inner-dropdown-item{
        color: #000;
        text-decoration: none;
        margin: 5px 0;
        opacity: 0;
        transition: 0.3s all;
    }

    
    .switch-modal-overlay{
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        overflow: hidden;
        background-color: #00000054;
        z-index: 100000000;
        visibility: hidden;
    }

    
    .switch-modal-overlay.active{
        visibility: visible;
    }

    
    .switch-modal{
        padding: 20px 30px;
        background-color: #fff;
        border-radius: 5px;
        margin-top: 20px;
        margin: 0 20px;
        box-shadow: 0px 12px 24px #00000022;
    }


    .modal-icon{
        font-size: 80px !important;
        opacity: 0.4;
    }

    
    @media (max-width: 991.98px) { 
        .balance-lg{
            display: none !important;
        }

        .total-balance{
            display: none;
        }

        .balance-sm{
            display: block !important; 
            top: 10px;
        }

        .balance-dropdown-sm.show{
            top: 10px !important;
            border-radius: 0px !important;
            box-shadow: 0px 3px 6px #33333324;
            transition: 0.3s all;
        }

        .profile-dropdown{
            top: 50px !important;
            right: 10px;
            width: 95%;
        }

        .nav-sm{
            display: block;
        }

        .profile-item{
            margin-bottom: 20px !important;
        }

        .profile-name{
            display: none !important;
        }

        .nav-lg{
            display: none !important;
        }

        .inner-dropdown.active{
            display: flex;
            margin-left: 8px;
        }   

        .inner-dropdown-item{
            opacity: 1;
        }
    }


    /* ================== FIXED SIDE NAV STYLES ================= */ 

    .fixed-side-nav{
        height: 100%;
        top: 70px !important;
        width: 79px !important;
        padding-top: 35px;
        z-index: 3 !important;
    }

    .trade-box {
        position: relative; 
        cursor: pointer;
    }

    .drop-header{
        background-color: #fbfaff;
        width: 100%;
        margin-bottom: 0;
        cursor: default;
    }

    .trade-box .icon-dropdown {
        visibility: hidden;
        position: absolute;
        top: -50%;
        left: 30px;
        background-color: #fff; 
        box-shadow: 0px 3px 6px #33333338;
        border-radius: 5px;
        padding: 0;
        width: 150px;
        opacity: 0;
        transition: 0.2s all;
    }

    .trade-box:hover .icon-dropdown {
        opacity: 1;
        visibility: visible;
        left: 60px;
    }

    .drop-list{
        width: 100%;
        padding: 0px 10px;
        margin: 0px;
        height: 40px;
        vertical-align: middle;
        display: flex;
        align-items: center;
        cursor: pointer;
    }

    .drop-list:hover{
        background-color: #fbfaff;
    }

    @media (max-width: 991.98px){
        
        .translations{
            display: none !important;
        }

    }



/* ==================   trade section styles ================= */

    .form-control:focus {
        box-shadow: none !important;
        outline: none !important; /* Optionally, remove the default outline as well */
    }
    
    .trade-section{
        margin: 30px 0 30px 100px;
        width: 90%;
    }

    .trading-assets{
        /* display: flex !important;
        flex-wrap: nowrap !important; */
    }

    .table-responsive{
        height: 60vh;
    }

    /* width */
    .table-responsive::-webkit-scrollbar {
        width: 10px;
        transition: 0.3s all;
    }

    /* Track */
    .table-responsive::-webkit-scrollbar-track {
        background: #f1f1f109;
        border-radius: 5px;
    }
    
    /* Handle */
    .table-responsive::-webkit-scrollbar-thumb {
        background: #88888814; 
        opacity: 0.1;
        border-radius: 5px;
        transition: 0.3s background all;
    }

    /* Handle on hover */
    .table-responsive::-webkit-scrollbar-thumb:hover {
    background: #7a7a7a; 
    }

    .position-table th{
        min-width: 150px;
    }

    tr{
        cursor: pointer;
    }

    #currency-list {
        width: 100%;
        border-collapse: collapse !important;
        margin-bottom: 20px;
    }
    #currency-list th, #currency-list td {
        padding: 10px;
        border: 1px solid #ccc !important;
        text-align: center;
    }
    /* Hover effect for table rows */
    #currency-list tbody tr:hover {
        background-color: #f0f0f0 !important; /* Light grey background color on hover */
        cursor: pointer; /* Change cursor to pointer on hover */
    }
    

    .update-balance-overlay{
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        overflow: hidden;
        background-color: #00000054;
        z-index: 100000000;
        visibility: hidden;
    }

    .ub-modal{
        padding: 20px 30px;
        background-color: #fff;
        border-radius: 5px;
        margin-top: 20px;
        margin: 0 20px;
        box-shadow: 0px 12px 24px #00000022;
    }

    .modal-icon{
        font-size: 80px !important;
        opacity: 0.4;
    }

    .nav-link{
        color: #000 !important;
        font-weight: 450 !important;
    }

    .nav-link.active{
        color: #fff !important;
        background-color: #5156be !important;
        border-radius: 3px !important;
    }

    /* th{
        min-width: 150px;
    } */

    .buy-sell-modal-overlay{
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        overflow: hidden;
        background-color: #00000054;
        z-index: 100000000;
        
    }

    .buy-sell-modal{
        background: #fff;
        padding: 40px;
        border-radius: 10px !important;
    }

    #animation-box{
        width: 200px !important;
        height: 200px !important;
    }

    td{
        font-size: 15px !important;
        opacity: 0.8;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        font-weight: 500 !important;
        padding-top: 20px !important;
    }

    @media (max-width: 991.98px){
        .trade-section{
            margin: 30px auto !important;
            width: 90%;
        }

        .assets-banner{
            margin-bottom: 50px !important;
        }
    }

    @media (max-width: 600.98px) {
        .buy-sell-box{
            padding-top: 20px;
        }
    }

    @media (max-width: 400.98px) {
        .buy-sell-btns{
            margin-bottom: 20px;
        }
    }



    /* ================== FOOTER STYLES ================= */

    footer{
        width: 94%;
        display: flex !important;
        bottom: 0 !important;
    }

    footer p{
        opacity: 0.8;
    }

    @media (max-width: 991.98px){
        footer{
            margin: 0 !important;
            position: relative;
            width: 100%;
        }
    }

    @media (max-width: 767.98px){
        footer{
            position: relative;
            height: 50px;
        }

        .pills-btns{
            display: none;
        }
    }

    #loading-container {
        position: fixed;
        width: 100%;
        height: 100%;
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 999999999;
    }

    .check-animation-container{
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        right: 0;
        display: flex;
        visibility: hidden;
        justify-content: center;
        align-items: center;
        z-index: 999999999;
        overflow: hidden !important;
        transition: 0.3s all;
    }

    .check-animation-container.active{
        visibility: visible;
    }

    .check-animation-box{
        width: 350px;
        height: 300px;
        background-color: #fff;
        border-radius: 5px;
        top: 0;
        opacity: 0;
        margin-top: 20px;
        transition: 0.3s;
    }

    .check-animation-box.active{
        opacity: 1;
        margin-top: 0;
    }

    #main-assets-loading-container {
        width: 100% !important; /* Set the width you need */
        height: 100% !important; /* Set the height you need */
        position: absolute; /* This makes the container absolute */
        top: 50%; /* Center vertically */
        left: 50%; /* Center horizontally */
        transform: translate(-50%, -50%); /* Adjust to center */
        z-index: 1000; /* Ensure it's on top of other elements */
        pointer-events: none; 
        background: #fff;
    
        }

    #assets-loading-container {
    width: 50% !important; /* Set the width you need */
    height: 50% !important; /* Set the height you need */
    position: absolute; /* This makes the container absolute */
    top: 50%; /* Center vertically */
    left: 50%; /* Center horizontally */
    transform: translate(-50%, -50%); /* Adjust to center */
    z-index: 1000; /* Ensure it's on top of other elements */
    pointer-events: none; 
    background: #fff;

    }

    /* Optional: Styling for fallback message or loading container
    #assets-loading-container.fallback {
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
    } */
    
</style>
<body>
    <!-- loading animation -->
    <div id="loading-container">
        <div id="lottie-container" style="width: 200px; height: 200px;"></div>
     </div>
    <!-- ====================================== MAIN PAGE ============================== -->
    <div class="main">
        <!-- ================================== HEADER STARTS HERE ====================================== -->
        <div class="header container-fluid p-0 mx-0 border-bottom d-flex justify-content-between fixed-top bg-white">

            <!-- ============================== HEADER LEFT ========================================  -->

            <!-- Logo and balance container -->
 
            <div class="logo-balance d-flex">

                <!-- Logo -->
                <div class="logo-box me-2 border-bottom-0 px-3 py-2 border border-end">
                    <img src="{{ url_for('static', filename='img/new_logo.png') }}" alt="" class="logo">
                </div>

                <!-- Currency-->
                <div class="currency-box d-flex align-items-center me-2 px-3 py-2">
                    {% if current_user.default_wallet == 'Bitcoin_Cash' %}
                        <i class="cf cf-btc fs-3 currency-coin position-relative me-2" style="color: #f7931a;"></i>
                        <h3 class="currency-name fs-6 position-relative" style="color: #f7931a;">
                            Bitcoin_Cash 
                            <i class="bi bi-chevron-down text-black ms-2 wallet-dropdown-toggler"></i>
                        </h3>
                    {% elif current_user.default_wallet == 'Ethereum' %}
                        <i class="cf cf-eth fs-3 currency-coin position-relative me-2" style="color: #74788d;"></i>
                        <h3 class="currency-name fs-6 position-relative" style="color: #74788d;">
                            Ethereum 
                            <i class="bi bi-chevron-down text-black ms-2 wallet-dropdown-toggler" ></i>
                        </h3>
                    {% elif current_user.default_wallet == 'Tether_USD' %}
                        <i class="cf cf-usdt fs-3 currency-coin position-relative me-2" style="color: #2ab57d;"></i>
                        <h3 class="currency-name fs-6 position-relative" style="color: #2ab57d;">
                            Tether_USD
                            <i class="bi bi-chevron-down text-black ms-2 wallet-dropdown-toggler"></i>
                        </h3>
                    {% elif current_user.default_wallet == 'Ripple' %}
                        <i class="cf cf-xrp fs-3 currency-coin position-relative me-2" style="color: #fd625e;"></i>
                        <h3 class="currency-name fs-6 position-relative" style="color: #fd625e;">
                            Ripple
                            <i class="bi bi-chevron-down text-black ms-2 wallet-dropdown-toggler"></i>
                        </h3>
                    {% elif current_user.default_wallet == 'Doge' %}
                        <i class="cf cf-doge fs-3 currency-coin position-relative me-2" style="color: #ffbf53;"></i>
                        <h3 class="currency-name fs-6 position-relative" style="color: #ffbf53;">
                            Doge
                            <i class="bi bi-chevron-down text-black ms-2 wallet-dropdown-toggler"></i>
                        </h3>
                    {% elif current_user.default_wallet == 'Solana' %}
                        <i class="cf cf-sol fs-3 currency-coin position-relative me-2" style="color: #54549c;"></i>
                        <h3 class="currency-name fs-6 position-relative" style="color: #54549c;">
                            Solana
                            <i class="bi bi-chevron-down text-black ms-2 wallet-dropdown-toggler"></i>
                        </h3>
                    {% elif current_user.default_wallet == 'Polkadot' %}
                        <i class="cf cf-dot fs-3 currency-coin position-relative me-2" style="color: #5156be;"></i>
                        <h3 class="currency-name fs-6 position-relative" style="color: #5156be;">
                            Polkadot
                            <i class="bi bi-chevron-down text-black ms-2 wallet-dropdown-toggler"></i>
                        </h3>
                    {% elif current_user.default_wallet == 'Bitcoin Cash' %}
                        <i class="cf cf-bch fs-3 currency-coin position-relative me-2" style="color: #0AC18E;"></i>
                        <h3 class="currency-name fs-6 position-relative" style="color: #0AC18E;">
                            Bitcoin Cash
                            <i class="bi bi-chevron-down text-black ms-2 wallet-dropdown-toggler"></i>
                        </h3>
                    {% elif current_user.default_wallet == 'Bitcoin' %}
                        <i class="cf cf-btc fs-3 currency-coin position-relative me-2" style="color: #f7931a;"></i>
                        <h3 class="currency-name fs-6 position-relative" style="color: #f7931a;">
                            Bitcoin
                            <i class="bi bi-chevron-down text-black ms-2 wallet-dropdown-toggler"></i>
                        </h3>
                    {% endif %}


                    <!--    wallet dropdown -->
                    <div class="wallet-dropdown drop-down dropdown-menu">
                        <div class="wallet d-flex flex-row align-items-center text-white p-4 h-auto rounded mb-3" style="background-color: #74788d;">
                            <div class="wallet-logo-container me-4">
                                <i class="cf cf-eth coin-logo fs-2 position-relative" style="bottom: 30px;"></i>
                            </div>
                            <div class="wallet-name-balance-holding me-4">
                                <p class="coin-name mb-2 fs-6">Ethereum</p>
                                {% if current_user.switch_check == 'demo' %}
                                    {% if current_user.eth_balance %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.eth_balance }}</span> ETH</p>
                                    {% else %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0.0</span> ETH</p>
                                    {% endif %}
                                {% else %}
                                    {% if current_user.live_eth_balance %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.live_eth_balance }}</span> ETH</p>
                                    {% else %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0.0</span> ETH</p>
                                    {% endif %}
                                {% endif %}
                            </div>
                            <div class="default-swap-btn">
                                <button type="button" class="wallet-btn">Make default</button>
                            </div>
                        </div>
                        <div class="wallet d-flex flex-row align-items-center text-white p-4 h-auto rounded mb-3" style="background-color: #2ab57d;">
                            <div class="wallet-logo-container me-4">
                                <i class="cf cf-usdt coin-logo fs-2 position-relative" style=" bottom: 30px;"></i>
                            </div>
                            <div class="wallet-name-balance-holding me-4">
                                <p class="coin-name mb-2 fs-6">Tether USD</p>
                                {% if current_user.switch_check == 'demo' %}
                                    {% if current_user.Tether_USD %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.Tether_USD }}</span> USDT</p>
                                    {% else %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> USDT</p>
                                    {% endif %}
                                {% else %}
                                    {% if current_user.live_Tether_USD %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.live_Tether_USD }}</span> USDT</p>
                                    {% else %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> USDT</p>
                                    {% endif %}
                                {% endif %}
                            </div>
                            <div class="default-swap-btn">
                                <button type="button" class="wallet-btn">Make default</button>
                            </div>
                        </div>
                        <div class="wallet d-flex flex-row align-items-center text-white p-4 h-auto rounded mb-3" style="background-color: #fd625e;">
                            <div class="wallet-logo-container me-4">
                                <i class="cf cf-xrp coin-logo fs-2 position-relative" style=" bottom: 30px;"></i>
                            </div>
                            <div class="wallet-name-balance-holding me-4">
                                <p class="coin-name mb-2 fs-6">Ripple</p>
                                {% if current_user.switch_check == 'demo' %}
                                    {% if current_user.Ripple %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance"> {{ current_user.Ripple }}</span> XRP</p>
                                    {% else %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> XRP</p>
                                    {% endif %}
                                {% else %}
                                    {% if current_user.live_Ripple %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance"> {{ current_user.live_Ripple }}</span> XRP</p>
                                    {% else %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> XRP</p>
                                    {% endif %}
                                {% endif %}
                            </div>
                            <div class="default-swap-btn">
                                <button type="button" class="wallet-btn">Make default</button>
                            </div>
                        </div>
                        <div class="wallet d-flex flex-row align-items-center text-white p-4 h-auto rounded mb-3" style="background-color: #ffbf53;">
                            <div class="wallet-logo-container me-4">
                                <i class="cf cf-doge coin-logo fs-2 position-relative" style=" bottom: 30px;"></i>
                            </div>
                            <div class="wallet-name-balance-holding me-4">
                                <p class="coin-name mb-2 fs-6">Dogecoin</p>
                                {% if current_user.switch_check == 'demo' %}
                                    {% if current_user.Dogecoin %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.Dogecoin }}</span> DOGE</p>
                                    {% else %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> DOGE</p>
                                    {% endif %}
                                {% else %}
                                    {% if current_user.live_Dogecoin %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.live_Dogecoin }}</span> DOGE</p>
                                    {% else %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> DOGE</p>
                                    {% endif %}
                                {% endif %}
                            </div>
                            <div class="default-swap-btn">
                                <button type="button" class="wallet-btn">Make default</button>
                            </div>
                        </div>
                        <div class="wallet d-flex flex-row align-items-center text-white p-4 h-auto rounded mb-3" style="background-color: #54549c;">
                            <div class="wallet-logo-container me-4">
                                <i class="cf cf-sol coin-logo fs-2 position-relative" style="bottom: 30px;"></i>
                            </div>
                            <div class="wallet-name-balance-holding me-4">
                                <p class="coin-name mb-2 fs-6">Solana</p>
                                {% if current_user.switch_check == 'demo' %}
                                    {% if current_user.sol_balance %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.sol_balance }}</span> SOL</p>
                                    {% else %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> SOL</p>
                                    {% endif %}
                                {% else %}
                                    {% if current_user.live_sol_balance %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.live_sol_balance }}</span> SOL</p>
                                    {% else %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> SOL</p>
                                    {% endif %}
                                {% endif %}
                            </div>
                            <div class="default-swap-btn">
                                <button type="button" class="wallet-btn">Make default</button>
                            </div>
                        </div>
                        <div class="wallet d-flex flex-row align-items-center text-white p-4 h-auto rounded mb-3" style="background-color: #5156be;">
                            <div class="wallet-logo-container me-4">
                                <i class="cf cf-dot coin-logo fs-2 position-relative" style="bottom: 30px;"></i>
                            </div>
                            <div class="wallet-name-balance-holding me-4">
                                <p class="coin-name mb-2 fs-6">Polkadot</p>
                                {% if current_user.switch_check == 'demo' %}
                                    {% if current_user.Polkadot %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.Polkadot }}</span> DOT</p>
                                    {% else %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> DOT</p>
                                    {% endif %}
                                {% else %}
                                    {% if current_user.live_Polkadot %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.live_Polkadot }}</span> DOT</p>
                                    {% else %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> DOT</p>
                                    {% endif %}
                                {% endif %}
                            </div>
                            <div class="default-swap-btn">
                                <button type="button" class="wallet-btn">Make default</button>
                            </div>
                        </div>
                        <div class="wallet d-flex flex-row align-items-center text-white p-4 h-auto rounded mb-3" style="background-color: #0AC18E;">
                            <div class="wallet-logo-container me-4">
                                <i class="cf cf-bch coin-logo fs-2 position-relative" style="bottom: 30px;"></i>
                            </div>
                            <div class="wallet-name-balance-holding me-4">
                                <p class="coin-name mb-2 fs-6">Bitcoin Cash</p>
                                {% if current_user.switch_check == 'demo' %}
                                    {% if current_user.Bitcoin_Cash %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.Bitcoin_Cash }}</span> BCH</p>
                                    {% else %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> BCH</p>
                                    {% endif %}
                                {% else %}
                                    {% if current_user.live_Bitcoin_Cash %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.live_Bitcoin_Cash }}</span> BCH</p>
                                    {% else %}
                                    <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> BCH</p>
                                    {% endif %}
                                {% endif %}
                            </div>
                            <div class="default-swap-btn">
                                <button type="button" class="wallet-btn">Make default</button>
                            </div>
                        </div>
                        <div class="wallet d-flex flex-row align-items-center text-white p-4 h-auto rounded mb-3" style="background-color: #f7931a;">
                            <div class="wallet-logo-container me-4">
                                <i class="cf cf-btc coin-logo fs-2 position-relative" style="bottom: 30px;"></i>
                            </div>
                            <div class="wallet-name-balance-holding me-4">
                                <p class="coin-name mb-2 fs-6">Bitcoin</p>
                                {% if current_user.switch_check == 'demo' %}
                                    {% if current_user.btc_balance %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.btc_balance }}</span> BTC</p>
                                    {% else %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> BTC</p>
                                    {% endif %}
                                {% else %}
                                    {% if current_user.live_btc_balance %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">{{ current_user.live_btc_balance }}</span> BTC</p>
                                    {% else %}
                                        <p class="coin-balance fw-bold fs-4 mb-1" class="coin-balance">0</span> BTC</p>
                                    {% endif %}
                                {% endif %}
                            </div>
                            <div class="default-swap-btn">
                                <button type="button" class="wallet-btn">Make default</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Balance -->
                <div class="balance-box me-2 px-3 py-2 balance-lg" style="text-align: left;">
                    <p class="mb-0 text-left header-p">Balance</p>
                    {% if current_user.switch_check == 'demo' %}
                        <p class="text-left header-p">$<span class="balance-amount">{{ current_user.demo_balance }}</span></p>
                    {% elif current_user.switch_check == 'live' %}
                        <p class="text-left header-p">$<span class="balance-amount">{{ current_user.live_balance }}</span></p>
                    {% else %}
                        <p class="text-left header-p">$<span class="balance-amount">0.0</span></p>
                    {% endif %}
                </div>

                <!-- Total Equity -->
                <div class="equity-box me-2 px-3 py-2 balance-lg" style="text-align: left;">
                    <p class="mb-0 text-left header-p">T.Equity</p>
                    <p class="text-left header-p">$<span class="equity-amount">0.00</span></p>
                </div>

                <!-- P/L -->
                <div class="p/l-box me-2 px-3 py-2 balance-lg" style="text-align: left;">
                    <p class="mb-0 text-left header-p">P/L</p>
                    <p class="text-left header-p">$<span class="p/l-amount">0.00</span></p>
                </div>

                <!-- T.Margin -->
                <div class="t.margin-box me-2 px-3 py-2 balance-lg" style="text-align: left;">
                    <p class="mb-0 text-left header-p">T.Margin</p>
                    <p class="text-left header-p">$<span class="t.margin-amount">0.00</span></p>
                </div>


                <!-- Mobile balance -->
                <div class="dropdown balance-sm bg-none d-none">
                    <button class="border-0 bg-white dropdown-toggle d-flex align-items-center position-relative text-black" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        {% if current_user.switch_check == 'demo' %}
                            <h3 class="mb-0 fs-6 pe-3 me-0 text-black">Demo Balance</h3>
                            <h3 class="fs-6 total-balance-digits position-relative ms-0 text-black">$<span class="total-balance-amount">{{ current_user.demo_balance }}</span></h3>
                        {% elif  current_user.switch_check == 'live' %}
                            <h3 class="mb-0 fs-6 pe-3 me-0 text-black">Live Balance</h3>
                            <h3 class="fs-6 total-balance-digits position-relative ms-0 text-black">$<span class="total-balance-amount">{{ current_user.live_balance }}</span></h3>
                        {% else %}    
                            <h3 class="mb-0 fs-6 pe-3 me-0 text-black">Balance</h3>
                            <h3 class="fs-6 total-balance-digits position-relative ms-0 text-black">$<span class="total-balance-amount">0</span></h3>
                        {% endif %}
                    </button>
                    <ul class="dropdown-menu balance-dropdown-sm">
                    <li style="height: fit-content;">
                        <a class="dropdown-item mb-0" href="#">
                            <div class="equity-box me-2 px-3 d-flex" style="text-align: left;">
                                <p class="mb-0 text-left header-p me-2">T.Equity</p>
                                <p class="text-left header-p mb-0">$<span class="equity-amount">0.00</span></p>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item mb-0" href="#">
                            <div class="p/l-box me-2 px-3 d-flex" style="text-align: left;">
                                <p class="mb-0 text-left header-p me-2">P/L</p>
                                <p class="text-left header-p mb-0">$<span class="p/l-amount">0.00</span></p>
                            </div>
                        </a>
                    </li>
                      <li>
                        <a class="dropdown-item mb-0" href="#">
                            <div class="t.margin-box me-2 px-3 d-flex" style="text-align: left;">
                                <p class="mb-0 text-left header-p">T.Margin</p>
                                <p class="text-left header-p mb-0">$<span class="t.margin-amount">0.00</span></p>
                            </div>
                        </a>
                    </li>
                    </ul>
                </div>
            </div>



            <!-- ================================ HEADER RIGHT =============================== -->
            <div class="header-right-side d-flex">

                <!-- Total balance -->
                <div class="total-balance px-3 py-1  d-flex align-items-center balance-lg">
                    {% if current_user.switch_check == 'demo' %}
                        <h3 class="mb-0 fs-6 pe-3 text-black">Demo Balance</h3>
                        <h3 class="fs-6 total-balance-digits position-relative text-black">$<span class="total-balance-amount">{{ current_user.demo_balance }}</span></h3>
                    {% elif current_user.switch_check == 'live' %}
                        <h3 class="mb-0 fs-6 pe-3 text-black">Live Balance</h3>
                        <h3 class="fs-6 total-balance-digits position-relative text-black">$<span class="total-balance-amount">{{ current_user.live_balance }}</span></h3>
                    {% else %}
                        <h3 class="mb-0 fs-6 pe-3 text-black">Balance</h3>
                        <h3 class="fs-6 total-balance-digits position-relative text-black">$<span class="total-balance-amount">0</span></h3>
                    {% endif %}
                </div>

                <!-- Translations -->
                <div class="translations px-3 py-3">
                    <div id="google_translate_element"></div>
                </div>

                 <!-- Profile Dropdown -->
                <div class="profile-box px-3 d-flex align-items-center border border-secondary-subtle border-top-0 border-bottom-0" style="background-color: #fbfaff;">
                    <i class="bi bi-person-circle profile-icon fs-3 me-3"></i>
                    {% if current_user.username %}
                    <p class="profile-name position-relative me-3 fs-6">{{ current_user.username }}</p>
                    {% else %}
                    <p class="profile-name position-relative me-3 fs-6">JOHN DOE</p>
                    {% endif %}
                    <i class="bi bi-chevron-down text-black dropdown-toggler" id="profile-dropdown-toggler"></i>
                    <div class="profile-dropdown list-unstyled drop-down">
                        <div class="border-bottom mb-3 pb-2 nav-sm">
                            <div class="dropdown-item profile-item " data-toggle="inner-dropdown">
                                <div class="inner-dropdown-toggler">
                                    <i class="bi bi-person-circle me-1 profile-item"></i>
                                    Profile
                                </div>
                                <div class="inner-dropdown">
                                    <a href="{{ url_for('app_views.profile') }}" class="inner-dropdown-item">Edit profile</a>
                                    <a href="{{ url_for('app_views.onboard') }}" class="inner-dropdown-item">Verify ID</a>
                                </div>
                            </div>
                            <a href="{{ url_for('app_views.wallets') }}" class="dropdown-item profile-item ">
                                <i class="bi bi-wallet-fill me-1"></i>
                                Wallet
                            </a>
                            <a href="{{ url_for('app_views.trade') }}" class="dropdown-item profile-item ">
                                <i class="bi bi-bar-chart me-1"></i>
                                Trade
                            </a>
                            <div class="dropdown-item profile-item " data-toggle="inner-dropdown" id="inner-dropdown-toggler">
                                <div class="inner-dropdown-toggler">
                                    <i class="bi bi-radar"></i>
                                    Positions 
                                </div>
                                <div class="inner-dropdown">
                                    <a href="{{ url_for('app_views.opened_positions') }}" class="inner-dropdown-item">Open positions</a>
                                    <a href="{{ url_for('app_views.closed_positions') }}" class="inner-dropdown-item">Closed positions</a>
                                    <a href="{{ url_for('app_views.earnings') }}" class="inner-dropdown-item">Earnings</a>
                                </div>
                            </div>
                            <div class="dropdown-item profile-item " data-toggle="inner-dropdown">
                                <div class="inner-dropdown-toggler">
                                   <i class="bi bi-wallet2 me-1"></i>
                                    Manage funds 
                                </div> 
                                <div class="inner-dropdown">
                                    <a href="{{ url_for('app_views.swap_assets') }}" class="inner-dropdown-item">Swap assets</a>
                                    <a href="{{ url_for('app_views.swap_history') }}" class="inner-dropdown-item">Swap History</a>
                                    <a href="{{ url_for('app_views.deposit_logs') }}" class="inner-dropdown-item">Deposit log</a>
                                    <a href="{{ url_for('app_views.withdrawal_logs') }}" class="inner-dropdown-item">Withdraw log</a>
                                </div>
                            </div>
                            <a href="{{ url_for('app_views.auto_trade') }}" class="dropdown-item profile-item ">
                                <i class="bi bi-graph-up-arrow me-1"></i>
                                Auto trader
                            </a>
                            <a href="reset_password.html" class="dropdown-item profile-item ">
                                <i class="bi bi-key-fill me-1"></i>
                                Change Password
                            </a>
                        </div>
                        <div>
                            {% if current_user.switch_check == 'demo' %}
                                <a href="#" class="dropdown-item profile-item switch-demo-live">
                                    <i class="bi bi-toggle-on me-1"></i>
                                    <i class="bi bi-toggle-off me-1 d-none"></i>
                                    Switch : <span class="demo-live">Demo</span>
                                </a>
                            {% else %}
                                <a href="#" class="dropdown-item profile-item switch-demo-live">
                                    <i class="bi bi-toggle-on me-1 d-none"></i>
                                    <i class="bi bi-toggle-off me-1"></i>
                                    Switch : <span class="demo-live">Live</span>
                                </a>
                            {% endif %}
                            <a href="{{ url_for('app_views.logout') }}" class="dropdown-item profile-item">
                                <i class="bi bi-door-closed-fill me-1"></i>
                                Logout
                            </a>
                        </div>
                    </div>
                </div>        
            </div>
        </div>
        <!-- ======================================== HEADER ENDS HERE =========================================== -->




        <!-- ======================================== FIXED-SIDE-NAV STARTS HERE ===================================== -->
        {% if current_user.switch_check == 'demo' %}
        <div class="fixed-side-nav position-fixed top-0 start-0 border-end d-flex align-items-center flex-column nav-lg" style="background-color: #fbfaff;">
            <div class="trade-box sidenav-icon-box mb-5">
                    <i class="bi bi-bar-chart fs-4"></i>
                    <div class="icon-dropdown">
                        <a href="{{ url_for('app_views.trade') }}" class="text-decoration-none text-black"><p class="drop-list px-3 py-2">Trade</p></a>
                    </div>
            </div>
            <div class="trade-box sidenav-icon-box mb-5">
                <i class="bi bi-radar fs-4"></i>
                <div class="icon-dropdown">
                    <p class="drop-header px-3 py-2">Positions</p>
                    <div class="w-100">
                        <a href="{{ url_for('app_views.opened_positions') }}" class="text-decoration-none text-black"><p class="drop-list">Open Positons</p></a>
                        <a href="{{ url_for('app_views.closed_positions') }}" class="text-decoration-none text-black"><p class="drop-list">Closed Positons</p></a> 
                        <a href="{{ url_for('app_views.earnings') }}" class="text-decoration-none text-black"><p class="drop-list">Earnings</p></a> 
                    </div>
                </div>
            </div>
            <div class="trade-box sidenav-icon-box mb-5">
                <i class="bi bi-person fs-4"></i>
                <div class="icon-dropdown">
                    <p class="drop-header px-3 py-2">Profile</p>
                    <div class="w-100">
                        <a href="{{ url_for('app_views.profile') }}" class="text-decoration-none text-black"><p class="drop-list">Edit Profile</p></a>
                        <a href="{{ url_for('app_views.onboard') }}" class="text-decoration-none text-black"><p class="drop-list">Verify Id</p> </a>
                    </div>
                </div>
            </div>
        </div>
        {% else %}
            <div class="fixed-side-nav position-fixed top-0 start-0 border-end d-flex align-items-center flex-column nav-lg" style="background-color: #fbfaff;">
                <div class="trade-box sidenav-icon-box mb-5">
                    <i class="bi bi-bar-chart fs-4"></i>
                    <div class="icon-dropdown">
                        <a href="{{ url_for('app_views.trade') }}" class="text-decoration-none text-black"><p class="drop-list px-3 py-2">Trade</p></a>
                    </div>
                </div>
                <div class="trade-box sidenav-icon-box mb-5">
                    <i class="bi bi-radar fs-4"></i>
                    <div class="icon-dropdown">
                        <p class="drop-header px-3 py-2">Positions</p>
                        <div class="w-100">
                            <a href="{{ url_for('app_views.opened_positions') }}" class="text-decoration-none text-black"><p class="drop-list">Open Positons</p></a>
                            <a href="{{ url_for('app_views.closed_positions') }}" class="text-decoration-none text-black"><p class="drop-list">Closed Positons</p></a> 
                            <a href="{{ url_for('app_views.earnings') }}" class="text-decoration-none text-black"><p class="drop-list">Earnings</p></a> 
                        </div>
                    </div>
                </div>
                <div class="trade-box sidenav-icon-box mb-5">
                    <i class="bi bi-wallet2 fs-4"></i>
                    <div class="icon-dropdown">
                        <p class="drop-header px-3 py-2">Manage Funds</p>
                        <div class="w-100">
                        <a href="{{ url_for('app_views.wallets') }}" class="text-decoration-none text-black"><p class="drop-list">Wallets</p></a> 
                            <a href="{{ url_for('app_views.swap_assets') }}" class="text-decoration-none text-black"><p class="drop-list">Swap assets</p></a>
                            <a href="{{ url_for('app_views.swap_history') }}" class="text-decoration-none text-black"><p class="drop-list">Swap history</p></a>
                            <a href="{{ url_for('app_views.deposit_logs') }}" class="text-decoration-none text-black"><p class="drop-list">Deposit log</p></a>
                            <a href="{{ url_for('app_views.withdrawal_logs') }}" class="text-decoration-none text-black"><p class="drop-list">Withdrawal log</p></a>
                        </div>
                    </div>
                </div>
                <div class="trade-box sidenav-icon-box mb-5">
                    <i class="bi bi-graph-up-arrow fs-4"></i>
                    <div class="icon-dropdown">
                        <a href="{{ url_for('app_views.auto_trade') }}" class="text-decoration-none text-black"><p class="drop-list px-3 py-2">Auto Trader</p></a>
                    </div>
                </div>
                <div class="trade-box sidenav-icon-box mb-5">
                    <i class="bi bi-safe2 fs-4"></i>
                    <div class="icon-dropdown">
                        <a href="{{ url_for('app_views.account_types') }}" class="text-decoration-none text-black"><p class="drop-list px-3 py-2">Account Types</p></a>
                    </div>
                </div>
                <div class="trade-box sidenav-icon-box mb-5">
                    <i class="bi bi-person fs-4"></i>
                    <div class="icon-dropdown">
                        <p class="drop-header px-3 py-2">Profile</p>
                        <div class="w-100">
                            <a href="{{ url_for('app_views.profile') }}" class="text-decoration-none text-black"><p class="drop-list">Edit Profile</p></a>
                            <a href="{{ url_for('app_views.onboard') }}" class="text-decoration-none text-black"><p class="drop-list">Verify Id</p> </a>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}

        <!-- ========================================== PAGE MAIN SECTION ( TRADE SECTION ) ====================================-->
        <div class="trade-section">
            <div class="row">
                <div class="trading-assets tradingPairs col-12 col-sm-12 col-lg-4 col-md-4 col-xl-4 p-0 px-2 mt-0 mb-5">
                    
                    <div class="card rounded-0">
                        <div id="main-assets-loading-container">
                            <div id="assets-loading-container"></div>
                        </div>
                                <div class="card-header d-flex justify-content-between align-items-center bg-white py-4 px-3">
                                    <h5 class="card-tittle fs-6 fw-medium position-relative" style="top: 5px; min-width: 100px;">Trading Pairs</h4>
                                    <div>
                                        <div class="input-group input-sm">
                                            <input type="text" class="form-control" name="search_asset"
                                            onkeyup="searchAssets(this.value)" placeholder="Search Assets..">  
                                            <span class="input-group-text">
                                                <i class="bi bi-search"></i>
                                            </span> 
                                        </div>
                                    </div>
                            </div>
                        <div class="card-body py-3">
                            <div class="table-responsive" style="max-height: 100vh;">
                                <table class="table table-borderless text-center pair-assets" id="pairs-table">
                                    <thead class="table-header">
                                      <tr class="bg-secondary">
                                        <th colspan="2" scope="col" class="fw-normal" style="background-color: #e9e9ef;">Trading Assets</th>
                                        <th scope="col" class="fw-normal" style="background-color: #e9e9ef;">Price</th>
                                        <th scope="col" class="fw-normal" style="background-color: #e9e9ef; min-width: 130px;">Volume (24hrs)</th>
                                      </tr>
                                    </thead>
                                    <tbody class="table-body" id="asset-list">

                                        <!-- bch/btc-->
                                        <tr class="BCH/BTC-pair" onclick="changeSymbol('BCHBTC')">
                                            <td class="pt-3">
                                                <div class="text-primary">
                                                    <i class="cf cf-bch position-relative" id="icon-BCHBTC" style="font-size: 45px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-3 text-start ">
                                                <div>
                                                    <h5 class="pair-name-BCH/BTC mb-1" style="font-size: 14px;">BCH/BTC</h5>
                                                    <p class= "rate" id="BCHBTC-rate" data-symbol="BCHBTC" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-3">
                                                <div>
                                                    <p class="price-BCHBTC">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-3">
                                                <div class="text-end">
                                                    <p class="volume-BCHBTC">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- bch/eur-->
                                        <tr class="BCH/EUR-pair" onclick="changeSymbol('BCHEUR')">
                                            <td class="pt-2">
                                                <div class="text-secondary">
                                                    <i class="cf cf-bch position-relative" id="icon-BCHEUR" style="font-size: 45px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-BCH/EUR mb-1" style="font-size: 14px;">BCH/EUR</h5>
                                                    <p class="text-secondary rate" id="BTCEUR-rate" data-symbol="BTCEUR" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-BCHEUR">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-BCHEUR">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- bch/gbp -->
                                        <tr class="BCH/GBP-pair" onclick="changeSymbol('BCHGBP')">
                                            <td class="pt-2">
                                                <div class="text-warning">
                                                    <i class="cf cf-bch position-relative" id="icon-BCHGBP" style="font-size: 45px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-BCH/GBP mb-1" style="font-size: 14px;">BCH/GBP</h5>
                                                    <p class="text-secondary rate" id="BCHGBP-rate" data-symbol="BCHGBP" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-BCHGBP">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-BCHGBP">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- btc/usdc -->
                                        <tr class="BTC/USDC-pair" onclick="changeSymbol('BTCUSDC')">
                                            <td class="pt-2">
                                                <div>
                                                    <i class="cf cf-btc position-relative" id="icon-BTCUSDC" style="font-size: 40px; bottom: 5px;color: #f7931a;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-BTC/USDC mb-1" style="font-size: 14px;">BTC/USDC</h5>
                                                    <p class="text-secondary rate" id="BTCUSDC-rate" data-symbol="BTCUSDC" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-BTCUSDC">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-BTCUSDC">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- btc/eur -->
                                        <tr class="BTC/EUR-pair" onclick="changeSymbol('BTCEUR')">
                                            <td class="pt-2">
                                                <div class="text-danger">
                                                    <i class="cf cf-btc position-relative" id="icon-BTCEUR" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-BTC/EUR mb-1" style="font-size: 14px;">BTC/EUR</h5>
                                                    <p class="text-secondary rate" id="BTCEUR-rate" data-symbol="BTCEUR" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-BTCEUR">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-BTCEUR">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- btc/gbp -->
                                        <tr class="BTC/GBP-pair" onclick="changeSymbol('BTCGBP')">
                                            <td class="pt-2">
                                                <div class="text-success">
                                                    <i class="cf cf-btc position-relative" id="icon-BTCGBP" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-BTC/GBP mb-1" style="font-size: 14px;">BTC/GBP</h5>
                                                    <p class="text-secondary rate" id="BTCGBP-rate" data-symbol="BTCGBP" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-BTCGBP">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-BTCGBP">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- btc/usd -->
                                        <tr class="BTC/USDC-pair" onclick="changeSymbol('BTCUSDC')">
                                            <td class="pt-2">
                                                <div class="text-info">
                                                    <i class="cf cf-btc position-relative" id="icon-BTCUSDC" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-BTC/USDC mb-1" style="font-size: 14px;">BTC/USDC</h5>
                                                    <p class="text-secondary rate" id="BTCUSDC-rate" data-symbol="BTCUSDC" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-BTCUSDC">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-BTCUSDC">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- eos/btc -->
                                        <tr class="EOS/BTC-pair" onclick="changeSymbol('EOSBTC')">
                                            <td class="pt-2">
                                                <div class="text-dark">
                                                    <i class="cf cf-eos position-relative" id="icon-EOSBTC" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-EOS/BTC mb-1" style="font-size: 14px;">EOS/BTC</h5>
                                                    <p class="text-secondary rate" id="EOSBTC-rate" data-symbol="EOSBTC" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-EOSBTC">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-EOSBTC">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- eos/eur -->
                                        <tr class="EOS/EUR-pair" onclick="changeSymbol('EOSEUR')">
                                            <td class="pt-2">
                                                <div class="text-warning">
                                                    <i class="cf cf-eos position-relative" id="icon-EOSEUR" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-EOS/EUR mb-1" style="font-size: 14px;">EOS/EUR</h5>
                                                    <p class="text-secondary rate" id="EOSEUR-rate" data-symbol="EOSEUR" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-EOSEUR">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-EOSEUR">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- eos/usd -->
                                        <tr class="EOS/USD-pair" onclick="changeSymbol('EOSUSD')">
                                            <td class="pt-2">
                                                <div class="text-secondary">
                                                    <i class="cf cf-eos position-relative" id="icon-EOSUSD" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-EOS/USD mb-1" style="font-size: 14px;">EOS/USD</h5>
                                                    <p class="text-secondary rate" id="EOSUSD-rate" data-symbol="EOSUSD" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-EOSUSD">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-EOSUSD">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- etc/btc -->
                                        <tr class="ETC/BTC-pair" onclick="changeSymbol('ETCBTC')">
                                            <td class="pt-2">
                                                <div class="text-danger">
                                                    <i class="cf cf-eth position-relative" id="icon-ETCBTC" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-ETCBTC mb-1" style="font-size: 14px;">ETC/BTC</h5>
                                                    <p class="text-secondary rate" id="ETCBTC-rate" data-symbol="ETCBTC style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-ETCBTC">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-ETCBTC">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- etc/eur -->
                                        <tr class="ETC/EUR-pair" onclick="changeSymbol('ETCEUR')">
                                            <td class="pt-2">
                                                <div class="text-">
                                                    <i class="cf cf-eth position-relative" id="icon-ETCEUR" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-ETC/EUR mb-1" style="font-size: 14px;">ETC/EUR</h5>
                                                    <p class="text-secondary rate" id="ETCEUR-rate" data-symbol="ETCEUR" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-ETCEUR">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-ETCEUR">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- etc/gbp -->
                                        <tr class="ETC/GBP-pair" onclick="changeSymbol('ETCGBP')">
                                            <td class="pt-2">
                                                <div class="text-warning">
                                                    <i class="cf cf-eth position-relative" id="icon-ETCGBP" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-ETC/GBP mb-1" style="font-size: 14px;">ETC/GBP</h5>
                                                    <p class="text-secondary rate" id="ETCGBP-rate" data-symbol="ETCGBP" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-ETCGBP">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-ETCGBP">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- etc/usd -->
                                        <tr class="ETC/USD-pair" onclick="changeSymbol('ETCUSD')">
                                            <td class="pt-2">
                                                <div class="text-success">
                                                    <i class="cf cf-eth position-relative" id="icon-ETCUSD" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-ETC/USD mb-1" style="font-size: 14px;">ETC/USD</h5>
                                                    <p class="text-secondary rate" id="ETCUSD-rate" data-symbol="ETCUSD" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-ETCUSD">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-ETCUSD">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- ltc/btc -->
                                        <tr class="LTC/BTC-pair" onclick="changeSymbol('LTCBTC')">
                                            <td class="pt-2">
                                                <div class="text-secondary">
                                                    <i class="cf cf-ltc position-relative" id="icon-LTCBTC style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-LTCBTC mb-1" style="font-size: 14px;">LTC/BTC</h5>
                                                    <p class="text-secondary rate" id="LTCBTC-rate" data-symbol="LTCBTC" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-LTCBTC">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-LTCBTC">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- ltc/eur -->
                                        <tr class="LTC/EUR-pair" onclick="changeSymbol('LTCEUR')">
                                            <td class="pt-2">
                                                <div class="text-primary">
                                                    <i class="cf cf-ltc position-relative" id="icon-LTCEUR" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-LTC/EUR mb-1" style="font-size: 14px;">LTC/EUR</h5>
                                                    <p class="text-secondary rate" id="LTCEUR-rate" data-symbol="LTCEUR" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-LTCEUR">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-LTCEUR">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- ltc/gbp -->
                                        <tr class="LTC/GBP-pair" onclick="changeSymbol('LTCGBP')">
                                            <td class="pt-2">
                                                <div class="text-dark">
                                                    <i class="cf cf-ltc position-relative" id="icon-LTCGBP style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-LTC/GBP mb-1" style="font-size: 14px;">LTC/GBP</h5>
                                                    <p class="text-secondary rate" id="LTCGBP-rate" data-symbol="LTCGBP" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-LTCGBP">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-LTCGBP">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- ltc/usd -->
                                        <tr class="LTC/USD-pair" onclick="changeSymbol('LTCUSD')">
                                            <td class="pt-2">
                                                <div class="text-warning">
                                                    <i class="cf cf-ltc position-relative" id="icon-LTCUSD" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-LTC/USD mb-1" style="font-size: 14px;">LTC/USD</h5>
                                                    <p class="text-secondary rate" id="LTCUSD-rate" data-symbol="LTCUSD" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-LTCUSD">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-LTCUSD">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- mkr/btc -->
                                        <tr class="MKR/BTC-pair" onclick="changeSymbol('MKRBTC')">
                                            <td class="pt-2">
                                                <div class="text-success">
                                                    <i class="cf cf-mkr position-relative" id="icon-MKRBTC" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-MKR/BTC mb-1" style="font-size: 14px;">MKR/BTC</h5>
                                                    <p class="text-secondary rate" id="MKRBTC-rate" data-symbol="MKRBTC" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-MKRBTC">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-MKRBTC">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- rep/btc -->
                                        <tr class="REP/BTC-pair" onclick="changeSymbol('REPBTC')">
                                            <td class="pt-2">
                                                <div class="text-danger">
                                                    <i class="cf cf-rep position-relative" id="icon-REPBTC" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-REP/BTC mb-1" style="font-size: 14px;">REP/BTC</h5>
                                                    <p class="text-secondary rate" id="REPBTC-rate" data-symbol="REPBTC" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-REPBTC">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-REPBTC">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- rep/usd -->
                                        <tr class="REP/USD-pair" onclick="changeSymbol('REPUSD')">
                                            <td class="pt-2">
                                                <div class="text-success">
                                                    <i class="cf cf-rep position-relative" id="icon-REPUSD" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-REP/USD mb-1" style="font-size: 14px;">REP/USD</h5>
                                                    <p class="text-secondary rate" id="REPUSD-rate" data-symbol="REPUSD" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-REPUSD">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-REPUSD">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- xlm/eur -->
                                        <tr class="XLM/EUR-pair" onclick="changeSymbol('XLMEUR')">
                                            <td class="pt-2">
                                                <div class="text-primary">
                                                    <i class="cf cf-xlm position-relative" id="icon-XLMEUR" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-XLM/EUR mb-1" style="font-size: 14px;">XLM/EUR</h5>
                                                    <p class="text-secondary rate" id="XLMEUR-rate" data-symbol="XLM/EUR" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-XLMEUR">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-XLMEUR">0</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <!-- xlm/usd -->
                                        <tr class="XLM/USD-pair" onclick="changeSymbol('XLMUSD')">
                                            <td class="pt-2">
                                                <div class="text-success">
                                                    <i class="cf cf-xlm position-relative" id="icon-XLMUSD" style="font-size: 40px; bottom: 5px;"></i>
                                                </div>
                                            </td>
                                            <td class="pt-2 text-start ">
                                                <div>
                                                    <h5 class="pair-name-XLM/USD mb-1" style="font-size: 14px;">XLM/USD</h5>
                                                    <p class="text-secondary rate" id="XLMUSD-rate" data-symbol="XLMUSD" style="font-size: 13px;">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div>
                                                    <p class="price-XLMUSD">0.00</p>
                                                </div>
                                            </td>
                                            <td class="pt-2">
                                                <div class="text-end">
                                                    <p class="volume-XLMUSD">0</p>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- trading assets end here -->
    
                <div class="col-md-8 col-sm-12 row ">
                    <div class="chart-div p-0 px-2 mt-0 col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                        <div class="row">
                            <div class="col-auto">
                                <strong class="selected-pair fw-medium">
                                    BCHBTC
                                </strong>
                                <p class="mt-0 mb-2 selected-rate w-medium">0.00</p>
                            </div>
                            <div class="col-auto">
                                <strong class="fw-medium">
                                    PRICE
                                </strong>
                                <p class="mt-0 mb-2 selected-price fw-medium">0.000.00</p>
                            </div>
                            <div class="col-auto">
                                <strong class="fw-medium">
                                    HIGH(24h)
                                </strong>
                                <p class="mt-0 mb-2 selected-high fw-medium">0.00</p>
                            </div>
                            <div class="col-auto">
                                <strong class="fw-medium">
                                    LOW(24h)
                                </strong>
                                <p class="mt-0 mb-2 selected-low fw-medium">0.00</p>
                            </div>
                            <div class="col-auto">
                                <strong class="fw-medium">
                                    VOLUME(24h)
                                </strong>
                                <p class="mt-0 mb-2 selected-volume fw-medium">0.00</p>
                            </div>
                            <div class="trade-btns col text-end" style="min-width: 200px;">
                                <div class="btn-group buy-sell-btns" role="group" aria-label="Basic mixed styles example">
                                    <button type="button" class="btn text-white" style="background-color: #2ab57d; box-shadow: 0px 3px 6px #2ab57d81;" onclick="openBuyBox()">
                                        <a href="#buy-sell-container" class="text-decoration-none text-white" >
                                            <i class="bi bi-graph-down-arrow"></i>
                                            BUY 
                                        </a> 
                                    </button>
                                    <button type="button" class="btn text-white" style="background-color: #fd625e; box-shadow: 0px 3px 6px #fd635e6c;" onclick="openSellBox()">
                                        <a href="#buy-sell-container" class="text-decoration-none text-white">
                                            <i class="bi bi-graph-down-arrow"></i>
                                            SELL  
                                        </a> 
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- trading view container -->
                        <div class="trading-widget-container mb-5">
                            <div class="trading-view" id="tradingview_ae7da" style="width: 100%; height: 70vh;">
                                <!-- TradingView Widget BEGIN -->
                                <div
                                    class="tradingview-widget-container"
                                    style="height: 100%; width: 100%"
                                >
                                <div
                                    id="tradingview_ae7da"
                                    style="height: calc(100% - 32px); width: 100%"
                                ></div>
                                <script
                                    type="text/javascript"
                                    src="https://s3.tradingview.com/tv.js"
                                ></script>
                                <script type="text/javascript">
                                    new TradingView.widget({
                                        autosize: true,
                                        symbol: 'BCHBTC',
                                        interval: 'D',
                                        timezone: 'Etc/UTC',
                                        theme: 'light',
                                        style: '1',
                                        locale: 'en',
                                        hide_side_toolbar: true,
                                        allow_symbol_change: true,
                                        studies: ['STD;MACD'],
                                        container_id: 'tradingview_ae7da',
                                    });
                                </script>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- trading view ends here -->

                <div class="buy-sell-box col px-2 d-none" id="buy-sell-container">
                    <div class="card pt-4 pb-1 rounded-0">
                        <div id="close-sell-buy" class="position-absolute top-0 end-0 pe-2 pt-2" style="cursor: pointer;">
                            <i class="bi bi-x-square text-danger"></i>
                        </div>
                        <div class="mb-1 px-2">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="d-flex">
                                            <i class="cf cf-bch me-2" id="pair-icon" style="font-size: 45px; margin-right: 10px;"></i>
                                            <div class="text-start">
                                                <p class="mb-0 fw-medium" id="pair-name" style="font-size: 14px;">
                                                    BCH-BTC
                                                </p>
                                                <p class="mt-0 mb-2 selected-rate" style="font-size: 14px; color: #7a7a7a;">
                                                    0.00
                                                </p>
                                            </div>  
                                        </div>
                                    </div>
                                    <div class="col-6 text-end">
                                        <p class="fw-medium mb-0" id="additional-price" style="font-size: 14px;">
                                            0.000.00
                                        </p>
                                        <p class="mt-0" style="font-size: 14px;">Price</p>
                                    </div>
                                </div>
                                <div class="form-group mt-1">
                                    <label class="form-label fw-medium text-left" for="quantity">Amount Contracts :</label>
                                    <div class="input-group input-group-sm">
                                        <span class="btn text-white px-3 text-inverse fs-4" onclick="updateAmount(down)" style="background-color: #5156be; box-shadow: 0px 3px 6px #5156be57;">
                                            -
                                        </span>
                                        <input name="quantity" type="text" id="quantity" class="form-control form-control-sm">
                                        <span class="btn text-white px-3 text-inverse fs-4" onclick="updateAmount(up)" style="background-color: #5156be; box-shadow: 0px 3px 6px #5156be59;">
                                            +
                                        </span>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-6">
                                        <p class="selected-pair-value p-value fw-medium mb-0" style="font-size: 14px;">$0.00</p>
                                        <p class="pair-value p-value user-currency fw-medium mb-0" style="font-size: 14px;">$0.00</p>
                                        <p class="fw-medium mt-0 mb-2" title="Value">Value</p>
                                    </div>
                                    <div class="col-6 text-end">
                                        <p class="selected-pair-margin p-value fw-medium mb-0 margin" style="font-size: 14px;">$0.00</p>
                                        <p class="pair-margin p-value user-currency fw-medium mb-0 margin" style="font-size: 14px;">$0.00</p>
                                        <p class="fw-medium mt-0 mb-2" title="Value">R. margin</p>
                                    </div>
                                </div>
                                <hr>
                                <div class="form-group mt-3">
                                    <input type="checkbox" id="stopLoss">
                                    <label for="stopLoss" class="form-label fw-medium" style="font-size: 14px;">Stop Loss at</label>
                                    <input type="text" id="stopLossField" class="form-control mt-1 mb-2 d-none" name="stop_loss">
                                </div>
                                <div class="form-group">
                                    <input type="checkbox" id="takeProfit">
                                    <label for="takeProfit" class="form-label fw-medium" style="font-size: 14px;">Take Profit at</label>
                                    <input type="text" id="takeProfitField" class="form-control mt-1 mb-2 d-none" name="take_profit">
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-6">
                                        <p class="unit-amount mb-0 fw-medium" style="font-size: 14px;">2.0735</p>
                                        <p class="mt-0 fw-medium" style="font-size: 14px;">Unit Amount</p>
                                    </div>
                                    <div class="col-6 text-end">
                                        <p class="leverage-ratio mb-0 fw-medium" style="font-size: 14px;">1.33</p>
                                        <p class="mt-0 fw-medium" style="font-size: 14px;">Leverage</p>
                                    </div>
                                </div>
                                <div class="row justify-content-center">
                                    <div class="buy-btn col-12 text-center d-none">
                                        <button class="btn text-white px-5 py-2 btn-block w-xl trade-btn m-1" id="buy_button" style="box-shadow: 0px 3px 6px #2ab57d89; background-color: #2ab57d;" onclick="buy()">
                                                <span class="loading-is-visible">
                                                   <i class="bi bi-graph-up-arrow"></i>
                                                    BUY 
                                                </span>
                                                <div class="spinner-border spinner-border-sm loading d-none" role="status">
                                                </div>
                                        </button>
                                    </div>
                                    <div class="sell-btn col-12 text-center">
                                        <button class="btn text-white px-5 py-2 btn-block w-xl trade-btn m-1" id="sell_button" style="box-shadow: 0px 3px 6px #fd635eb5; background-color: #fd625e;" onclick="sell()">
                                            <span class="loading-is-visible">
                                                <i class="bi bi-graph-down-arrow"></i>
                                                 SELL
                                             </span>
                                             <div class="spinner-border spinner-border-sm loading d-none" role="status">
                                             </div>   
                                        </button>
                                    </div>
                                    <p class="fw-medium text-center mt-3" style="font-size: 12px;">This position wil be closed in 7 days</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- positions -->
                <div class="col-lg-12 p-0">
                    <div class="card bg-white">
                        <div class="card-header align-items-center d-flex bg-white" style="height: fit-content;">
                            <p class="card-tittle mb-0 flex-grow-1 fw-medium" style="font-size: 16px;">Open Positions</p>
                            <div class="flex-shrink-0 pills-btns">
                                <ul class="nav nav-pills" id="pills-tab" role="tablist">
                                    <li class="nav-item" role="presentation">
                                      <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Open Positions</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                      <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">Closed Positions</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                      <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact" type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Earnings</button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="pills-tabContent">
                                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab" tabindex="0">
                                    <div class="table-responsive" style="height: fit-content !important;">
                                        <table class="table position-table">
                                            <thead>
                                              <tr>
                                                <th scope="col" class="fw-medium">Position ID</th>
                                                <th scope="col" class="fw-medium">Action</th>
                                                <th scope="col" class="fw-medium">Assets</th>
                                                <th scope="col" class="fw-medium">Opening Value</th>
                                                <th scope="col" class="fw-medium">Current Value</th>
                                                <th scope="col" class="fw-medium">Quantity</th>
                                                <th scope="col" class="fw-medium">Required Margin</th>
                                                <th scope="col" class="fw-medium">Profit/Loss</th>
                                                <th scope="col" class="fw-medium">Expire Date/Time</th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                                {% if current_user.switch_check == 'demo'%}
                                                    {% if current_user.demo_open_positions %}
                                                        {% for position_id, position in current_user.demo_open_positions.items() %}
                                                            <tr>
                                                                <td class="positionId">{{ position_id }}</td>
                                                                <td class="action">{{ position['action'] }}</td>
                                                                <td class="assets">{{ position['assets'] }}</td>
                                                                <td class="openingValue">{{ position["opening_value"] }}</td>
                                                                <td class="currentValue">{{ position["current_value"] }}</td>
                                                                <td class="quantity">{{ position["quantity"] }}</td>
                                                                <td class="requiredMargin">{{ position["margin_used"] }}</td>
                                                                <td class="profitLoss">{{ position["profit_loss"] }}</td>
                                                                <td class="ExpireDateTime">{{ position["expiration_date"] }}</td>
                                                            </tr>
                                                        {% endfor %}
                                                    {% endif %}
                                                {% else %}
                                                    {% if current_user.live_open_positions %}
                                                        {% for position_id, position in current_user.live_open_positions.items() %}
                                                            <tr>
                                                                <td class="positionId">{{ position_id }}</td>
                                                                <td class="action">{{ position['action'] }}</td>
                                                                <td class="assets">{{ position['assets'] }}</td>
                                                                <td class="openingValue">{{ position["opening_value"] }}</td>
                                                                <td class="currentValue">{{ position["current_value"] }}</td>
                                                                <td class="quantity">{{ position["quantity"] }}</td>
                                                                <td class="requiredMargin">{{ position["margin_used"] }}</td>
                                                                <td class="profitLoss">{{ position["profit_loss"] }}</td>
                                                                <td class="ExpireDateTime">{{ position["expiration_date"] }}</td>
                                                            </tr>
                                                        {% endfor %}
                                                    {% endif %}
                                                {% endif %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab" tabindex="0">
                                    <div class="table-responsive" style="height: fit-content !important;">
                                        <table class="table position-table">
                                            <thead>
                                              <tr>
                                                <th scope="col" class="fw-medium">Position ID</th>
                                                <th scope="col" class="fw-medium">Action</th>
                                                <th scope="col" class="fw-medium">Assets</th>
                                                <th scope="col" class="fw-medium">Opening Value</th>
                                                <th scope="col" class="fw-medium">CLosing Value</th>
                                                <th scope="col" class="fw-medium">Quantity</th>
                                                <th scope="col" class="fw-medium">Margin Used</th>
                                                <th scope="col" class="fw-medium">Profit/Loss</th>
                                                <th scope="col" class="fw-medium">Date/Time</th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                                    {% if current_user.switch_check == 'demo' %}
                                                        {% if current_user.demo_closed_positions %}
                                                            {% for position_id, position in current_user.demo_closed_positions.items() %}
                                                            <tr>
                                                                <td class="positionId">{{ position_id }}</td>
                                                                <td class="action">{{ position['action'] }}</td>
                                                                <td class="assets">{{ position['assets'] }}</td>
                                                                <td class="openingValue">{{ position["opening_value"] }}</td>
                                                                <td class="currentValue">{{ position["current_value"] }}</td>
                                                                <td class="quantity">{{ position["quantity"] }}</td>
                                                                <td class="requiredMargin">{{ position["margin_used"] }}</td>
                                                                <td class="profitLoss">{{ position["profit_loss"] }}</td>
                                                                <td class="ExpireDateTime">{{ position["expiration_date"] }}</td>
                                                            </tr>
                                                            {% endfor %}
                                                        {% endif %}
                                                    {% else %}
                                                        {% if current_user.live_closed_positions %}
                                                            {% for position_id, position in current_user.live_closed_positions.items() %}
                                                            <tr>
                                                                <td class="positionId">{{ position_id }}</td>
                                                                <td class="action">{{ position['action'] }}</td>
                                                                <td class="assets">{{ position['assets'] }}</td>
                                                                <td class="openingValue">{{ position["opening_value"] }}</td>
                                                                <td class="currentValue">{{ position["current_value"] }}</td>
                                                                <td class="quantity">{{ position["quantity"] }}</td>
                                                                <td class="requiredMargin">{{ position["margin_used"] }}</td>
                                                                <td class="profitLoss">{{ position["profit_loss"] }}</td>
                                                                <td class="ExpireDateTime">{{ position["expiration_date"] }}</td>
                                                            </tr>
                                                            {% endfor %}
                                                    {% endif %}
                                                {% endif %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab" tabindex="0">
                                    <div class="table-responsive" style="height: fit-content !important;">
                                        <table class="table position-table">
                                            <thead>
                                              <tr>
                                                <th scope="col" class="fw-medium">Transaction ID</th>
                                                <th scope="col" class="fw-medium">Transaction Type</th>
                                                <th scope="col" class="fw-medium">Amount</th>
                                                <th scope="col" class="fw-medium">Date</th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                                    {% if current_user.switch_check == 'demo' %}
                                                        {% if current_user.demo_earnings %}
                                                            {% for position_id, position in current_user.demo_earnings.items() %}
                                                            <tr>
                                                                <td class="transactionId">{{ position['Transaction_ID'] }}</td>
                                                                <td class="transactionType">{{ position['Transaction'] }}</td>
                                                                <td class="amount">{{ position["Amount"] }}</td>
                                                                <td class="date">{{ position['Date'] }}</td>
                                                            </tr>
                                                            {% endfor %}
                                                        {% endif %}
                                                    {% else %}
                                                        {% if current_user.live_earnings %}
                                                            {% for position_id, position in current_user.live_earnings.items() %}
                                                            <tr>
                                                                <td class="transactionId">{{ position['Transaction_ID'] }}</td>
                                                                <td class="transactionType">{{ position['Transaction'] }}</td>
                                                                <td class="amount">{{ position["Amount"] }}</td>
                                                                <td class="date">{{ position['Date'] }}</td>
                                                            </tr>
                                                            {% endfor %}
                                                        {% endif %}
                                                    {% endif %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

            

            <!-- switch demo and live modal -->
            <div class="switch-modal-overlay">
                <div class="switch-modal text-center" style="width: 500px;">
                    <div class="modal-header mb-4">
                        <i class="bi bi-exclamation-triangle mx-auto modal-icon"></i>
                    </div>
                    <div class="pricing-modal-body mb-4">
                        <div class="modal-title fw-medium fs-5 mb-2">Info !</div>
                        <div>
                            <p class="switch-modal-text"></p>
                        </div>
                    </div>
                    <div class="modal-footer pt-2">
                        <button class="btn border-0 bg-info text-white px-4 py-2 close-switch-modal" style="border-radius: 2px;">close</button>
                    </div>
                </div>
            </div>


            <!-- buy/sell modal -->
            <div class="buy-sell-modal-overlay" style="display: none !important;">
                <div class="buy-sell-modal text-center" style="width: 500px;">
                    <div class="modal-header mb-4 p-0 d-flex justify-content-center">
                        <div id="animation-box" style="width: 200px; height: 200px;"></div>
                    </div>
                    <div class="pricing-modal-body mb-4">
                        <div class="modal-title fw-medium fs-3 mb-2" style="opacity: 0.8;">ERRORS</div>
                        <div>
                            <p class="switch-modal-text " style="font-size: 18px; color: #6d6d6d;">Enter a valid amount contracts</p>
                        </div>
                    </div>
                    <div class="modal-footer pt-2">
                        <button class="btn border-0 bg-info text-white px-4 py-2 close-switch-modal" style="border-radius: 2px;">close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- check animation -->
    <div class="check-animation-container">
        <div class="check-animation-box py-3 border-secondary-subtle shadow-sm">
            <div class="check-container d-flex justify-content-center flex-column align-items-center">
                <div id="check-animation" style="width: 180px; height: 180px;" class="mb-4"></div>
                <p class="fs-3" style="color: #3ecb42;">Done</p>
            </div>
        </div>
    </div>
    <!-- =========================================== MAIN ENDS HERE====================================== -->



    <!-- ========================================== FOOTER STARTS HERE ==================================== -->
    <footer class="d-flex justify-content-between p-3" style="background-color: #fbfaff; margin-left: 80px;">
        <div class="container-fluid">
            <div class="d-flex justify-content-between">
                <div class="col-sm-3">2024 Digitalofx</div>
                <div class="col-sm-3">
                    <p>All Rights Reserved</p>
                </div>
            </div>
        </div>
    </footer>

    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
        var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
        (function(){
        var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
        s1.async=true;
        s1.src='https://embed.tawk.to/6689eccde1e4f70f24ee42f1/1i25ca14j';
        s1.charset='UTF-8';
        s1.setAttribute('crossorigin','*');
        s0.parentNode.insertBefore(s1,s0);
        })();
    </script>
    <!--End of Tawk.to Script-->
    

    <script type="text/javascript"> 
        function googleTranslateElementInit() {
       new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
       }
     </script>
    <script type="text/javascript" 
        src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
    <script>
        // loading aniamtion for assets box
function loadLottieAnimation(animationUrl, containerId) {
    const container = document.getElementById('assets-loading-container');
    const main_container = document.getElementById('main-assets-loading-container');
    if (!container) {
        console.error(`Container with id ${containerId} not found.`);
        return;
    }

    let animationInstance = null;
    container.style.width = '10px'; // Change the width as needed
    container.style.height = '10px';
    const animation = lottie.loadAnimation({
        container: container,
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: animationUrl, // Use the passed animationUrl
    })

    function hideLoadingAnimation() {
        console.log('hiding assets loader');
        if (container) {
            container.style.display = 'none';
            main_container.style.display = 'none'
        }
    }
    
    setTimeout(hideLoadingAnimation, 5000);
}

document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM fully loaded and parsed');
    // FIRST LOADER ANIMATION
    // Load the animation JSON
    const animationData = "{{ url_for('static', filename='animations/Animation - 1718757531211.json') }}"; 

    // Initialize Lottie
    const animation = lottie.loadAnimation({
        container: document.getElementById('lottie-container'), // the DOM element
        renderer: 'svg', // renderer type
        loop: true, // whether to loop the animation
        autoplay: true, // whether to start the animation automatically
        path: animationData // the path to the animation JSON
    });

    animation.addEventListener('DOMLoaded', function() {
        console.log('Lottie animation loaded');
    });

    animation.addEventListener('data_failed', function(event) {
        console.error('Lottie animation data failed to load:', event);
    });

    // Function to hide the loading animation
    function hideLoadingAnimation() {
        console.log('Page fully loaded');
        const loadingContainer = document.getElementById('loading-container');
        if (loadingContainer) {
            loadingContainer.style.display = 'none';
        }

        console.log("Now initiating loader for assets")
        loadLottieAnimation("{{ url_for('static', filename='animations/Animation - 1719985786785.json') }}")
    }

    // Hide the loading animation once the page has fully loaded
    window.onload = function() {
        setTimeout(hideLoadingAnimation, 3000); // 2000 milliseconds = 2 seconds
    };
});


// search assets function
function searchAssets(searchText) {
  // 1. Get the table body element
  const tableBody = document.getElementById('asset-list');

  // 2. Get all table rows
  const rows = tableBody.querySelectorAll('tr');

  // 3. Filter rows based on search text
  searchText = searchText.toLowerCase(); // Make search case-insensitive
  for (let i = 0; i < rows.length; i++) {
    const row = rows[i];
    const textContent = row.textContent.toLowerCase(); // Make comparison case-insensitive
    const match = textContent.indexOf(searchText) !== -1; // Check if search text is present in asset name

    // 4. Show or hide rows based on match
    row.style.display = match ? '' : 'none';
  }
}



function showCheckBox() {
    let checkContainer = document.querySelector('.check-animation-container')
    let animationBox = document.querySelector('.check-animation-box')

    checkContainer.classList.toggle('active')
    animationBox.classList.toggle('active')

    let animationPath = "{{ url_for('static', filename='animations/Animation - 1719074008630.json') }}"
    const checkAnimation  = lottie.loadAnimation({
        container: document.getElementById('check-animation'),
        renderer: 'svg', 
        loop: false,
        autoplay: true,
        path: animationPath
    })

    checkAnimation.addEventListener('complete', () => {
        checkContainer.classList.toggle('active')
        animationBox.classList.toggle('active')
    })
}





// close profile dropdowns when the document gets clicked
document.addEventListener('DOMContentLoaded', function() {
    let walletDropDownToggler = document.querySelector('.wallet-dropdown-toggler');
    walletDropdown = document.querySelector('.wallet-dropdown');

    console.log("wallet drop down toggler is ", walletDropDownToggler + "and wallet drop down is ", walletDropdown)
    walletDropDownToggler.addEventListener('click', () => {
        walletDropdown.classList.toggle('active'); // Toggle visibility on click
      });

    walletDropDownToggler.addEventListener('click', () => {
        walletDropDown.classList.toggle('active'); // Toggle visibility on click
      });

    // Close the dropdown when clicking outside of it
    document.body.addEventListener('click', function(event) {
        if (!walletDropdown.contains(event.target) && !walletDropDownToggler.contains(event.target)) {
            walletDropdown.classList.remove('active');
        }
    });

    // Prevent the dropdown from closing when clicking inside
    walletDropdown.addEventListener('click', function(event) {
        event.stopPropagation();
    });
});

// profile dropdown
const profileBox = document.querySelector('.profile-box');
const profileDropdown = document.querySelector('.profile-dropdown');

profileBox.addEventListener('click', () => {
  profileDropdown.classList.toggle('active'); // Toggle visibility on click
});


// close profile dropdowns when the document gets clicked
document.addEventListener('DOMContentLoaded', function() {
    const dropdownToggler = document.getElementById('profile-dropdown-toggler');
    const dropdown = document.querySelector('.profile-dropdown');

    // Close the dropdown when clicking outside of it
    document.body.addEventListener('click', function(event) {
        if (!dropdown.contains(event.target) && !dropdownToggler.contains(event.target)) {
            dropdown.classList.remove('active');
        }
    });

    // Prevent the dropdown from closing when clicking inside
    dropdown.addEventListener('click', function(event) {
        event.stopPropagation();
    });
});




// handle inner dropdown inside the profile
const innerDropDownToggler = Array.from( document.querySelectorAll('.inner-dropdown-toggler'))

innerDropDownToggler.forEach( toggler => {
    toggler.addEventListener('click', () => {
        let target = toggler.nextElementSibling;
        target.classList.toggle('active')
    })
});



// handle switch from demo to live
let switchBtn = document.querySelector('.switch-demo-live')
let toggleOn = document.querySelector('.bi-toggle-on')
let toggleOff = document.querySelector('.bi-toggle-off')
let switchText = document.querySelector('.demo-live')
let switchModalOverlay = document.querySelector('.switch-modal-overlay')
let switchModal = document.querySelector('.switch-modal')
let switchModalText = document.querySelector('.switch-modal-text')
let closeSwitchModal = document.querySelector('.close-switch-modal')

switchBtn.addEventListener('click', async () => {

    let currentSwitch = switchText.innerText.toLowerCase(); // Get current switch state (lowercase for clarity)
    let newSwitch = currentSwitch === 'demo' ? 'live' : 'demo';

    // Fetch request with async/await for better handling
    try {
        const response = await fetch('/api/v1/users/switch', {
        method: 'POST',
        headers: {
                'Content-Type': 'application/json', // Specify JSON body
            },
            body: JSON.stringify({ switch: newSwitch }), // Send new switch state in body
        });

        if (!response.ok) {
            throw new Error(`Error: ${response.statusText}`); // Handle non-2xx responses
        }
    } catch (error) {
        console.error('Error sending switch request:', error);
        // Handle errors (e.g., display error message to user)
    } finally {
        switchModalOverlay.classList.toggle('active')
        switchModal.classList.toggle('active')
        document.body.style.overflowY = 'hidden';

        if (!toggleOn.classList.contains('d-none')) {
            toggleOff.classList.remove('d-none')
            toggleOn.classList.add('d-none')
            switchText.innerText = 'Live'
            switchModalText.textContent = 'Live session has started'
            setTimeout(function() {
              location.reload();
            }, 2000);
        } else{
            toggleOn.classList.remove('d-none')
            toggleOff.classList.add('d-none')
            switchText.innerText = 'Demo'
            switchModalText.textContent = 'Demo session has started'
            setTimeout(function() {
              location.reload();
            }, 2000);
        }
    }
});

closeSwitchModal.addEventListener('click', () => {
    switchModalOverlay.classList.remove('active');
    switchModal.classList.remove('active');
    document.body.style.overflowY = 'auto';
});



// Example usage:




// display trading currencies
var updates = {};
var currentSymbol = 'BCHBTC';

var priceSocket = new WebSocket("wss://stream.binance.com:9443/stream?streams=btcusd@avgPrice/bchbtc@avgPrice/bcheur@avgPrice/bchgbp@avgPrice/btceur@avgPrice/btcgbp@avgPrice/btcusdc@avgPrice/eosbtc@avgPrice/eoseur@avgPrice/eosusd@avgPrice/etcbtc@avgPrice/etceur@avgPrice/etcgbp@avgPrice/etcusd@avgPrice/ltcbtc@avgPrice/ltceur@avgPrice/ltcgbp@avgPrice/ltcusd@avgPrice/mkrbtc@avgPrice/repbtc@avgPrice/repusd@avgPrice/xlmeur@avgPrice/xlmusd@avgPrice");
var volumeSocket = new WebSocket("wss://stream.binance.com:9443/stream?streams=btcusd@kline_1d/bchbtc@kline_1d/bcheur@kline_1d/bchgbp@kline_1d/btceur@kline_1d/btcgbp@kline_1d/btcusdc@kline_1d/eosbtc@kline_1d/eoseur@kline_1d/eosusd@kline_1d/etcbtc@kline_1d/etceur@kline_1d/etcgbp@kline_1d/etcusd@kline_1d/ltcbtc@kline_1d/ltceur@kline_1d/ltcgbp@kline_1d/ltcusd@kline_1d/mkrbtc@kline_1d/repbtc@kline_1d/repusd@kline_1d/xlmeur@kline_1d/xlmusd@kline_1d");

priceSocket.onmessage = function (event) {
    var data = JSON.parse(event.data);
    var symbol = data.data.s;
    var price = data.data.w;
    if (!updates[symbol]) {
        updates[symbol] = { price: null, volume: null };
    }
    updates[symbol].price = price;
    updateTable(symbol);
    updateSelectedPair(symbol);
};

volumeSocket.onmessage = function (event) {
    var data = JSON.parse(event.data);
    var symbol = data.data.s;
    var volume = data.data.k.v;
    if (!updates[symbol]) {
        updates[symbol] = { price: null, volume: null };
    }
    updates[symbol].volume = volume;
    updateTable(symbol);
    updateSelectedPair(symbol);
};

function updateTable(symbol) {
    var update = updates[symbol];
    var priceElement = document.querySelector('.price-' + symbol);
    var volumeElement = document.querySelector('.volume-' + symbol);

    if (update.price !== null && priceElement) {
        priceElement.textContent = update.price;
    }
    if (update.volume !== null && volumeElement) {
        volumeElement.textContent = update.volume;
    }
}

function updateSelectedPair(symbol) {
    if (symbol === currentSymbol) {
        var info = updates[symbol];
        if (info) {
            document.querySelector('.selected-price').textContent = info.price !== null ? info.price : 'N/A';
            document.querySelector('.selected-volume').textContent = info.volume !== null ? info.volume : 'N/A';

            // Update new elements
            document.getElementById('pair-name').textContent = formatSymbol(symbol);
            document.getElementById('pair-icon').className = 'cf cf-' + symbol.toLowerCase();
            document.getElementById('additional-price').textContent = info.price !== null ? info.price : 'N/A';
        }
    }
}

async function calculateConversion(symbol) {
    const [coinFrom, coinTo] = symbol.split('/');
    //console.log("SYMBOL IS ", symbol)
    console.log("coin from is " + coinFrom + ' coin to is ' + coinTo)

    const apiKey = 'ff7b53d037e82b63b2368b9e8a787e470bfe79f258f09f44c44095812d99aad8'; // Replace with your actual API key
    const url = `https://min-api.cryptocompare.com/data/price?fsym=${coinFrom}&tsyms=${coinTo}&api_key=${apiKey}`;

    try {
        const response = await fetch(url);
        const data = await response.json();
        return data[coinTo];
    } catch (error) {
        console.error('Error fetching CryptoCompare data:', error);
        return undefined; // Or handle error differently
    }
}

function getconversion(symbol) {
    // Call calculateConversion and handle the Promise
    return calculateConversion(symbol)
    .then(data => {
        if (data) {
        //const exchangeRate = data[coinTo.value]; // Access conversion rate for selected currency
        return data
        // Use the exchangeRate for further calculations or UI updates
        } else {
        console.error('Error fetching conversion rate');
        // Handle error if data is undefined
        return error
        }
    });
}

async function fetchData(url) {
    try {
        const response = await fetch(url);
        const data = await response.json();
        return data; // Return data if needed
    } catch (error) {
        console.error("Error fetching data:", error);
        return undefined; // Or handle error differently
    }
}


let cache = {
    data: {},  // Object to store actual data
    isEmpty: true  // Flag to indicate empty cache
  };

function updateRates() {
    // Example: Simulate updating rates for BCHBTC, ETHBTC, etc.
    var updates = {

        'XLMUSD': { rate: generateRandomRate() },
        'BCHBTC': { rate: generateRandomRate() },
        'BTCEUR': { rate: generateRandomRate() },
        'BCHGBP': { rate: generateRandomRate() },
        'BTCUSDC': { rate: generateRandomRate() },
        'BTCEUR': { rate: generateRandomRate() },
        'BTCGBP': { rate: generateRandomRate() },
        'EOSBTC': { rate: generateRandomRate() },
        'EOSEUR': { rate: generateRandomRate() },
        'EOSUSD': { rate: generateRandomRate() },
        'ETCBTC': { rate: generateRandomRate() },
        'ETCEUR': { rate: generateRandomRate() },
        'ETCGBP': { rate: generateRandomRate() },
        'ETCUSD': { rate: generateRandomRate() },
        'LTCBTC': { rate: generateRandomRate() },
        'LTCEUR': { rate: generateRandomRate() },
        'LTCGBP': { rate: generateRandomRate() },
        'LTCUSD': { rate: generateRandomRate() },
        'MKRBTC': { rate: generateRandomRate() },
        'REPBTC': { rate: generateRandomRate() },
        'REPUSD': { rate: generateRandomRate() },
        'XLMEUR': { rate: generateRandomRate() },
        'XLMUSD': { rate: generateRandomRate() },
        // Add more as needed
    };

    // Update rate elements based on updates object
    Object.keys(updates).forEach(symbol => {
        var priceElement = document.querySelector(`.price-${symbol}`);
        var rateElement = document.getElementById(`${symbol}-rate`);
        var priceSymbol = formatSymbol(symbol)
        const [CoinFrom, CoinTo] = priceSymbol.split('/');
        
        //const isCachedAndValid = cache && (Date.now() - cache.timestamp < 20000000); // Example: Cache valid for 10 seconds

        if (cache.isEmpty === false) {
          // Use data from cache
          //console.log("cache is ", cache + "and its data is ", cache.data[symbol].data[CoinTo])
          priceElement.textContent = cache.data[symbol].data[CoinTo]
        } else {
                const apiKey = '618cb6ae0cbb08fe2741411108b3ef662d09d944aa8809c25565644f7d38c75b'; // Replace with your actual API key
                const url = `https://min-api.cryptocompare.com/data/price?fsym=${CoinFrom}&tsyms=${CoinTo}&api_key=${apiKey}`;

                fetchData(url).then(data => {
                    // Do something with the data if needed
                    if (data) {
                        priceElement.textContent = data[CoinTo]
                        cache.data[symbol] = {
                            data
                        }
                    } else {
                        console.log("No data returned or an error occurred.");
                    }
                });
        }

        if (rateElement) {
            var rateInfo = updates[symbol];

            // Update the rate element text
            rateElement.innerHTML = `${rateInfo.rate} <i class="bi"></i>`;

            // Determine if the rate is increasing or decreasing
            var isIncreasing = Math.random() >= 0.5;

            // Update the icon and color based on the rate change
            var iconElement = rateElement.querySelector('i');
            if (isIncreasing) {
                iconElement.className = 'bi bi-caret-up-fill';
                rateElement.classList.remove('text-danger');
                rateElement.classList.add('text-success');
            } else {
                iconElement.className = 'bi bi-caret-down-fill';
                rateElement.classList.remove('text-success');
                rateElement.classList.add('text-danger');
            }
        }
    });
    cache.isEmpty = false;
}

// Example function to generate random rates
function generateRandomRate() {
    return (Math.random() * 2).toFixed(2);
}

// Call updateRates initially
updateRates();

// Optionally, call updateRates periodically to simulate real-time updates
setInterval(updateRates, 5000);


let a_symbol = "";

let currentUpdateInterval = null;

async function changeSymbol(symbol) {
    let quantity = document.getElementById('quantity');
    let margins = Array.from(document.querySelectorAll('.margin'));
    let stopLoss = document.getElementById('stopLossField');
    let takeProfit = document.getElementById('takeProfitField');
    let pValue = document.querySelectorAll('.p-value')

    quantity.value = ''
    margins.value = ''
    stopLoss.value = ''
    takeProfit.value = ''
    pValue.forEach(element => {
        element.textContent = '$0.00'
    });

    console.log(`Changing symbol to: ${symbol}`);
    currentSymbol = symbol;
    a_symbol = symbol;
    let SymbolRate = document.getElementById(`${symbol}-rate`);
    let selectedRate = document.querySelectorAll('.selected-rate');

    // Clear the previous interval if it exists
    if (currentUpdateInterval) {
        clearInterval(currentUpdateInterval);
    }

    // Set up a function to update the selected rate
    function updateSelectedRate() {
        if (SymbolRate) {
            selectedRate.forEach(element => {
                element.innerHTML = SymbolRate.innerHTML;
                            // Determine if the rate is increasing or decreasing
                var isIncreasing = Math.random() >= 0.5;

                // Update the icon and color based on the rate change
                var iconElement = element.querySelector('i');
                if (isIncreasing) {
                    iconElement.className = 'bi bi-caret-up-fill';
                    element.classList.remove('text-danger');
                    element.classList.add('text-success');
                } else {
                    iconElement.className = 'bi bi-caret-down-fill';
                    element.classList.remove('text-success');
                    element.classList.add('text-danger');
                }
                });
        }
    }

    // Call the update function immediately and then every 3 seconds
    updateSelectedRate();
    currentUpdateInterval = setInterval(updateSelectedRate, 2000);

    
    // Get the information for the selected symbol from the updates object
    var info = updates[symbol];
    
    // If information is available for the selected symbol, update the UI elements
    if (info) {
        document.querySelector('.selected-pair').textContent = symbol;
        document.querySelector('.selected-price').textContent = info.price !== null ? info.price : 'N/A';
        document.querySelector('.selected-volume').textContent = info.volume !== null ? info.volume : 'N/A';

        // Update additional UI elements
        document.getElementById('pair-name').textContent = formatSymbol(symbol);
        var pairIconElement = document.getElementById('pair-icon');
        var clickedIconElement = document.getElementById('icon-' + symbol);
        pairIconElement.className = clickedIconElement.className; // Copy class name
        document.getElementById('additional-price').textContent = info.price !== null ? info.price : 'N/A';

    } else {
        // If no information is available, set default values
        document.querySelector('.selected-pair').textContent = symbol;
        document.querySelector('.selected-price').textContent = 'N/A';
        document.querySelector('.selected-volume').textContent = 'N/A';

        // Update additional UI elements
        document.getElementById('pair-name').textContent = formatSymbol(symbol);
        var pairIconElement = document.getElementById('pair-icon');
        var clickedIconElement = document.getElementById('icon-' + symbol);
        pairIconElement.className = clickedIconElement.className; // Copy class name
        document.getElementById('additional-price').textContent = 'N/A';

    }


    // Load the TradingView widget for the selected symbol
    await loadTradingViewWidget(symbol);
}

// Helper function to format the symbol (implement as needed)
function formatSymbol(symbol) {
    // Example implementation: return the symbol in uppercase
    return symbol.toUpperCase();
}

// Helper function to format the symbol (implement as needed)
function formatSymbol(symbol) {
    // Example implementation: return the symbol in uppercase
    return symbol.toUpperCase();
}


function calculateRequiredMargin(shares, pricePerShare, leverageRatio) {
    const positionValue = shares * pricePerShare;
    const requiredMargin = positionValue / leverageRatio;
    return Math.ceil(requiredMargin * 100) / 100;
}

const amountquantity = document.getElementById("quantity");
    amountquantity.addEventListener('input', async function() {
        try {
            const exchangeRate = await getconversion(formatSymbol(a_symbol)) // Call the function to update tokens and exchange rate
            const leverage = 33;
            const amount = amountquantity.value
            margin = calculateRequiredMargin(amount, exchangeRate, leverage)
            ndmarginElement = document.querySelector(".selected-pair-margin")
            marginElement = document.querySelector(".pair-margin")
            marginElement.textContent = `$${margin}`
            ndmarginElement.textContent = `$${margin}`
            ndvalueElement = document.querySelector(".selected-pair-value")
            valueElement = document.querySelector(".pair-value")
            ndvalueElement.textContent = exchangeRate * amount
            valueElement.textContent = exchangeRate * amount 
          } catch (error) {
                console.error("Error updating tokens and exchange rate:", error);
          }        
      });

function formatSymbol(symbol) {
    return symbol.slice(0, symbol.length / 2) + '/' + symbol.slice(symbol.length / 2);
}

function loadTradingViewWidget(symbol) {
    const widgetContainer = document.getElementById('tradingview_ae7da');
    widgetContainer.innerHTML = ''; // Clear previous widget

    new TradingView.widget({
        autosize: true,
        symbol: symbol,
        interval: 'D',
        timezone: 'Etc/UTC',
        theme: 'light',
        style: '1',
        locale: 'en',
        hide_side_toolbar: true,
        allow_symbol_change: true,
        studies: ['STD;MACD'],
        container_id: 'tradingview_ae7da',
        overrides: {
            "paneProperties.background": "#f5f5f5",
            "paneProperties.vertGridProperties.color": "#E6E6E6",
            "paneProperties.horzGridProperties.color": "#E6E6E6",
            "symbolWatermarkProperties.transparency": 90,
            "scalesProperties.textColor": "#AAA",
            "mainSeriesProperties.candleStyle.wickUpColor": '#336854',
            "mainSeriesProperties.candleStyle.borderUpColor": '#336854',
            "mainSeriesProperties.candleStyle.wickDownColor": '#7f323f',
            "mainSeriesProperties.candleStyle.borderDownColor": '#7f323f',
        }
    });
}


// open buy/sell box 
let closeBox = document.getElementById('close-sell-buy');
let buySellBox = document.querySelector('.buy-sell-box');
let buyBtn = document.querySelector('.buy-btn')
let sellBtn = document.querySelector('.sell-btn')


function openBuyBox(){
    buyBtn.classList.remove('d-none')
    sellBtn.classList.add('d-none')
    buySellBox.classList.remove('d-none')
    if (window.innerWidth > '992') {
        reduceColClasses(tradeView)
    } else{
        addColClasses(tradeView)
    }
}

function openSellBox(){
    sellBtn.classList.remove('d-none')
    buyBtn.classList.add('d-none')
    buySellBox.classList.remove('d-none')
    if (window.innerWidth > '992') {
        reduceColClasses(tradeView)
    } else{
        addColClasses(tradeView)
    }
}


// handle stop loss and take profit 
document.getElementById('stopLoss').addEventListener('change', function() {
        var stopLossField = document.getElementById('stopLossField');
        if (this.checked) {
            stopLossField.classList.remove('d-none');
        } else {
            stopLossField.classList.add('d-none');
        }
    });

document.getElementById('takeProfit').addEventListener('change', function() {
    var takeProfitField = document.getElementById('takeProfitField');
    if (this.checked) {
        takeProfitField.classList.remove('d-none');
    } else {
        takeProfitField.classList.add('d-none');
    }
});





// handle the sell/buy box display 
let tradeView = document.querySelector('.chart-div');

// Function to replace col-7 classes of trading view to col-12
function addColClasses(tradeView) {
    // List of class names to replace
    let classesToReplace = ['col-7', 'col-sm-7', 'col-md-7', 'col-lg-7', 'col-xl-7'];
    
    // Iterate through the class list of the element
    classesToReplace.forEach(oldClass => {
        if (tradeView.classList.contains(oldClass)) {
            // Remove the old class and add the new class
            tradeView.classList.remove(oldClass);
            let newClass = oldClass.replace('7', '12');
            tradeView.classList.add(newClass);
        }
    });
}

function reduceColClasses(tradeView) {
    // List of class names to replace
    let classesToReplace = ['col-12', 'col-sm-12', 'col-md-12', 'col-lg-12', 'col-xl-12'];
    
    // Iterate through the class list of the element
    classesToReplace.forEach(oldClass => {
        if (tradeView.classList.contains(oldClass)) {
            // Remove the old class and add the new class
            tradeView.classList.remove(oldClass);
            let newClass = oldClass.replace('12', '7');
            tradeView.classList.add(newClass);
        }
    });
}

closeBox.addEventListener('click', () => {
    buySellBox.classList.add('d-none')
    addColClasses(tradeView)
})

function getRandomSecondsBetween(minSeconds, maxSeconds) {
    // Ensure minSeconds is less than or equal to maxSeconds
    minSeconds = Math.min(minSeconds, maxSeconds);
    maxSeconds = Math.max(minSeconds, maxSeconds);
  
    // Calculate the range of possible values (max - min)
    const range = maxSeconds - minSeconds;
  
    // Generate a random number within the range (inclusive)
    const randomSeconds = Math.floor(Math.random() * (range + 1)) + minSeconds;
  
    return randomSeconds;
  }


// buysell logic 
function buy() {
    const minSeconds = 5; // 5 seconds
    const maxSeconds = 3 * 24 * 60 * 60;
    const expirationTime = new Date();
    expirationTime.setSeconds(expirationTime.getSeconds() + getRandomSecondsBetween(minSeconds, maxSeconds));

    const formattedExpirationTime = expirationTime.toLocaleString();


    let quantity = document.getElementById('quantity');
    let margin = document.querySelector('.margin');
    let stopLoss = document.getElementById('stopLossField');
    let takeProfit = document.getElementById('takeProfitField');
    let pair = document.querySelector(".selected-pair")
    let Quantity = document.querySelector(".selected-pair-value")
    let buyBtn = document.getElementById('buy_button');
    let loadingElement = buyBtn.querySelector('.loading');
    let visibleSpan = buyBtn.querySelector('.loading-is-visible')
    loadingElement.classList.toggle('d-none');
    visibleSpan.classList.toggle('d-none');


    let margins = margin.textContent.replace("$", "")



    data = {
        "pair": pair.textContent,
        "amount": margins,
        "stop_loss": stopLoss.value,
        "take_profit": takeProfit.value,
        "action": "BUY",
        "Quantity": Quantity.textContent,
        "expiration_time": formattedExpirationTime
    }
 
    function done() {
        loadingElement.classList.toggle('d-none'); // Toggle 'd-none' class
        visibleSpan.classList.toggle('d-none');

        Swal.fire({
            icon: "success",
            title: "DONE",
            text: "Position has been opened.",
        });
    }

    function insufficient() {
        loadingElement.classList.toggle('d-none'); // Toggle 'd-none' class
        visibleSpan.classList.toggle('d-none');

        Swal.fire({
            icon: "error",
            title: "FAILED",
            text: "Insufficient Balance",
        });
    }

    try {
        const response = fetch('/api/v1/users/process_trade/', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        });
      
        // Use .then to handle the promise returned by fetch
        response.then(response => {
            if (!response.ok) {
              console.log("I AM RUNNING THE failed block");
              setTimeout(insufficient, 5000);
            } else {
              response.json().then(data => {
                console.log("I AM RUNNING THE SUCCESS BLOCK and data is:", data);
                setTimeout(done, 5000);
              });
            }
          })
        .catch(error => {
          console.error('Error sending switch request:', error);
          // Handle errors (e.g., display error message to user)
        });
      } catch (error) {
        console.error('Unexpected error:', error);
      }
}

function sell() {
    const minSeconds = 5; // 5 seconds
    const maxSeconds = 3 * 24 * 60 * 60;
    const expirationTime = new Date();
    expirationTime.setSeconds(expirationTime.getSeconds() + getRandomSecondsBetween(minSeconds, maxSeconds));

    const formattedExpirationTime = expirationTime.toLocaleString();


    let quantity = document.getElementById('quantity');
    let margin = document.querySelector('.margin');
    let stopLoss = document.getElementById('stopLossField');
    let takeProfit = document.getElementById('takeProfitField');
    let pair = document.querySelector(".selected-pair")
    let Quantity = document.querySelector(".selected-pair-value")
    let sellBtn = document.getElementById('sell_button');
    let loadingElement = sellBtn.querySelector('.loading');
    let visibleSpan = sellBtn.querySelector('.loading-is-visible')
    loadingElement.classList.toggle('d-none'); // Toggle 'd-none' class
    visibleSpan.classList.toggle('d-none');
    let margins = margin.textContent.replace("$", "")


    data = {
        "pair": pair.textContent,
        "amount": margins,
        "stop_loss": stopLoss.value,
        "take_profit": takeProfit.value,
        "action": "SELL",
        "Quantity": Quantity.textContent,
        "expiration_time": formattedExpirationTime
    }

    function done() {
        loadingElement.classList.toggle('d-none'); // Toggle 'd-none' class
        visibleSpan.classList.toggle('d-none');

        Swal.fire({
            icon: "success",
            title: "DONE",
            text: "Position has been opened.",
        });
    }

    function insufficient() {
        loadingElement.classList.toggle('d-none'); // Toggle 'd-none' class
        visibleSpan.classList.toggle('d-none');

        Swal.fire({
            icon: "error",
            title: "FAILED",
            text: "Insufficient Balance",
        });
    }

    try {
        const response = fetch('/api/v1/users/process_trade/', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        });
      
        // Use .then to handle the promise returned by fetch
        response.then(response => {
            if (!response.ok) {
              setTimeout(insufficient, 5000);
            } else {
              response.json().then(data => {
                setTimeout(done, 5000);
              });
            }
          })
        .catch(error => {
          console.error('Error sending switch request:', error);
          // Handle errors (e.g., display error message to user)
        });
      } catch (error) {
            console.error('Unexpected error:', error);
      }
}







    </script>
    <script>
        function checkExpiredPositions() {
            fetch('/api/v1/users/check_expired_postions')
              .then(response => response.json())
              .then(data => {
                // Handle the response data here (e.g., display expired positions)
                console.log("Expired Positions:", data.success);
              })
              .catch(error => {
                console.error("Error fetching expired positions:", error);
              });
          }
          
          // Call the function initially
          checkExpiredPositions();
          
          // Set interval to call the function every 20 seconds
          setInterval(checkExpiredPositions, 1800000);
    </script>
    <script>

        const makeDefaultButtons = document.querySelectorAll('.wallet-btn');
    
        makeDefaultButtons.forEach(button => {
        button.addEventListener('click', (event) => {
            // Get the parent element (wallet section) of the clicked button
            const clickedCurrency = event.target.closest('.wallet');
    
            // Extract new currency information
            const newCurrencyName = clickedCurrency.querySelector('.coin-name').textContent;
            const newCurrencyLogo = clickedCurrency.querySelector('.coin-logo');  // Get the element itself
            // Update default currency display
            const defaultCurrencyName = document.querySelector('.currency-name');
            const defaultCurrencyLogo = document.querySelector('.currency-coin');
            const currencyCodeMatch = newCurrencyLogo.className.match(/cf-([\w]+)/);
            const currencyCode = currencyCodeMatch[1].toLowerCase(); // Extract and lowercase the code
    
    
            const backgroundColor = clickedCurrency.style.backgroundColor;
    
            defaultCurrencyName.style.color = backgroundColor; // Update text color based on contrast
            defaultCurrencyLogo.style.color = backgroundColor;
            defaultCurrencyName.textContent = newCurrencyName;
            defaultCurrencyLogo.className =  defaultCurrencyLogo.className.replace(/cf-[\w]+/, `cf-${currencyCode}`);
    
            try {
                const response = fetch('/api/v1/users/default', {
                method: 'POST',
                headers: {
                        'Content-Type': 'application/json', // Specify JSON body
                    },
                    body: JSON.stringify({ name: newCurrencyName }), // Send new switch state in body
                });
        
                if (!response.ok) {
                    throw new Error(`Error: ${response.statusText}`); // Handle non-2xx responses
                }
            } catch (error) {
                console.error('Error sending switch request:', error);
            }
            
        });
    });
    </script>
</body>
</html>
